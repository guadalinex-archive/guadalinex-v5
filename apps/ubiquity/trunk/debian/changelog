ubiquity (1.8.4) hardy; urgency=low

  [ Jonathan Riddell ]
  * kde_ui:
   - Fix crash in PartitionModel localisation (LP: #216031).
   - Fix translations on buttons
   - Replace the resize slider with the custom widget
   - Fix occasional bug where the app would still quit after the confirm
     exit dialogue had been dismissed
   - Fix exception in on_partition_edit_use_combo_changed when non-ASCII
     characters are used
   - Translate dialogues
   - Fix launching browser from release notes label
  * kde_ui, gtk_ui
   - In partition edit dialogue, enable format tickbox when a format type is
     selected

  [ Colin Watson ]
  * KDE frontend: Translate the partition create dialog too.
  * Fix crash if opening /cdrom/.disk/info fails (with Jonathan and Evan).
  * Show current filesystem type if it isn't currently being used for
    anything; now that partman no longer sets up automatic mount points for
    everything, the lack of filesystem types made it difficult to get any
    context on which partition was which.
  * Set /apps/nautilus/preferences/media_autorun_never to true during
    installation (thanks, John S. Gruber; LP: #210620).
  * Update translations from Launchpad.

 -- Colin Watson <cjwatson@ubuntu.com>  Sat, 12 Apr 2008 13:23:13 +0100

ubiquity (1.8.3) hardy; urgency=low

  [ Colin Watson ]
  * Make all text in the partitioner translatable (LP: #144741).
    Unfortunately we don't have time to get translations in place for 8.04,
    but there ought to be time to do this for 8.04.1. This also involved
    moving the "Undo changes to partitions" button to a second line in order
    to avoid excessive horizontal growth.
  * Adjust po-debconf flags in ubiquity/install/copying_error/md5, so that
    ${FILE} doesn't get translated.
  * Offer a list of mount points when creating a partition (LP: #85713).
    Adjust this list (and also that offered when editing a partition) if the
    file system is changed to FAT or NTFS.
  * Guard against division by zero while copying files (LP: #211503).
  * Ensure that "Location for the new partition" always defaults to
    "Beginning" (LP: #207810).
  * Stop X forwarding code from breaking if we aren't running within X
    (LP: #214211).

  [ Evan Dandrea ]
  * Update the translations from Rosetta.
  * Automatic update of included source packages: debian-installer-utils
    1.50ubuntu3, localechooser 1.42ubuntu5, partman-basicfilesystems
    56ubuntu4.

  [ Jonathan Riddell ]
  * Fix exception in edit partitions dialogue use in kde_ui
  * Add minimum size to partition_edit_dialog.ui, closes LP: #203626
  * Fix buttons on question dialogue to use supplied text, closes LP: #203660

 -- Evan Dandrea <evand@ubuntu.com>  Thu, 10 Apr 2008 04:22:15 -0400

ubiquity (1.8.2) hardy; urgency=low

  [ Evan Dandrea ]
  * Treat the dbfilter returning nonzero as a fatal error in the
    noninteractive frontend.
  * Clean up the reboot message in the noninteractive frontend.
  * Optimize the md5 check on file copy (LP: #198019).
  * Copy the locale over to the target system when using oem-config.
    This was previously fixed for the alternate CD in LP 181291.
  * Use + instead of : for a replacement character for m-a as it is
    explicitly allowed by debconf policy.
  * Break out of resizing the partition in cases where partman fed us bad
    boundary values (LP: #197838).
  * Don't miscalculate with nested partitions in 03partition_too_small (LP:
    #198039).
  * Automatic update of included source packages: apt-setup
    1:0.31ubuntu7, choose-mirror 2.19ubuntu5, clock-setup 0.92ubuntu3,
    console-setup 1.21ubuntu6, localechooser 1.42ubuntu4, migration-
    assistant 0.6.1, partman-auto 73ubuntu7, tzsetup 1:0.20.

  [ Mario Limonciello ]
  * Don't unnecessarily hardcode the return of get_hostname()
    in the noninteractive frontend.
  * Turn off console blanking in Ubiquity init script to prevent
    confusion on the noninteractive frontend.
  * Update mythbuntu ubiquity icon.

  [ Colin Watson ]
  * Fix crash if partitioning failed when partitioning was automated (see LP
    #206113).
  * Remove packages in the restricted section from the installed system if
    apt-setup/restricted is false.
  * Fix crash with the "don't use" partitioning option (LP: #132611).
  * Use localised, human-readable names for partitioning methods.
  * Reorganise the wrapper script to cope with kdesu's broken argument
    handling.
  * Add a "Format the partition?" checkbox to the partition edit dialog
    (LP: #184838).
  * Give reconfigured packages access to our X display, so that
    usplash.postinst can check its dimensions (LP: #188764).

 -- Evan Dandrea <evand@ubuntu.com>  Tue, 08 Apr 2008 02:02:23 -0400

ubiquity (1.8.1) hardy; urgency=low

  [ Evan Dandrea ]
  * Change --no-continue option to a more general --only option for use
    in only-ubiquity and automatic-ubiquity modes.
  * Disable the minimize button when using --only (LP: #200034).
  * Properly return in debconf progress functions in the noninteractive
    frontend.  Thanks Colin Watson.
  * Print progress updates on a new line again in the noninteractive
    frontend.
  * When clicking back from the advanced partitioner, go back to the first
    partitioning page rather than the keyboard page.  Thanks Jonathan
    Riddell.
  * Remove dead code for the old resize widget.
  * Fix printing of non-latin text in the noninteractive frontend.
  * bin/ubiquity-dm: Set groups in drop_privileges.
  * Use the proper username and full name in oem_config mode for the
    noninteractive frontend.
  * Exit on failure to commit to the partition table in the noninteractive
    frontend.
  * Move the spawning of the noninteractive frontend when the noninteractive
    kernel cmdline option is present out of casper and into debian/init.
  * Automatic update of included source packages: choose-mirror
    2.19ubuntu3, localechooser 1.42ubuntu3, partman-auto 73ubuntu6,
    partman-base 114ubuntu4, partman-partitioning 54ubuntu5.

  [ Colin Watson ]
  * Set OVERRIDE_SHOW_ALL_LANGUAGES while calling localechooser, so that
    even languages with complex scripts are displayed (LP: #202291).
  * Run fontconfig-voodoo as root (LP: #203086).

  [ Luke Yelavich ]
  * bin/ubiquity-dm: Set the GTK_MODULES environment variable only when
    at-spi-registryd is loaded.

  [ Mario Limonciello ]
  * Set proper path to change permissions of vnc files.  (LP: #204985)
  * Use newer nvidia syntax in xorg.conf.

  [ Jonathan Riddell ]
  * kde_ui: changes for UBIQUITY_ONLY mode, don't offer a no-reboot method at
    end of install, and hide minimise button on window frame.
  * kde_ui: Fixes to the button icons

 -- Evan Dandrea <evand@ubuntu.com>  Tue, 25 Mar 2008 16:16:09 -0400

ubiquity (1.8.0) hardy; urgency=low

  * Disable the intro message in preparation for Ubuntu 8.04 beta.
  * Run ubiquity under hal-lock if possible (LP: #199129).

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 19 Mar 2008 15:49:26 +0000

ubiquity (1.7.18) hardy; urgency=low

  [ Jonathan Riddell ]
  * kde_ui:
   - Enable/disable advanced partitioner buttons, don't hide/show
   - Use Oxygen icon and make it findable by KDE 4
   - Fix reboot dialogue to actually offer a reboot option
   - When clicking Back at AdvancedPartitioner, go back to first Partitioner page, not keyboard

  [ Evan Dandrea ]
  * Move cancelButton.hide() to after setCancelButton in the KDE frontend as
    the latter function causes the button to be shown again.
  * Use a black border around tzmap points to assist the visually impaired.
  * Flash the currently selected location on the tzmap so that it's easier to
    spot.
  * When clicking on the tzmap, if the closest match is already selected, take
    the next closest.
  * Place the tzmap in an AspectFrame so it doesn't look distorted on
    widescreen displays (LP: #200152).
  * Add missing signal import in noninteractive frontend.
  * Automatic update of included source packages: clock-setup
    0.92ubuntu2, grub-installer 1.27ubuntu6, partman-auto 73ubuntu5,
    partman-target 54ubuntu4.
  * UI Freeze exception upload (LP: #201788).

  [ Mario Limonciello ]
  * For PVR-350 output support, use ivtvfb not ivtv-fb.

 -- Evan Dandrea <evand@ubuntu.com>  Thu, 13 Mar 2008 13:37:14 -0400

ubiquity (1.7.17) hardy; urgency=low

  * Ensure that our build fails if one of the d-i components fails to build.
  * Don't clean console-setup; bits of it are intentionally missing from our
    copy, and it's not necessary.
  * Automatic update of included source packages: partman-target 54ubuntu3.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 07 Mar 2008 00:01:19 +0000

ubiquity (1.7.16) hardy; urgency=low

  [ Evan Dandrea ]
  * Fix the --no-continue option.
  * Properly handle success_command and rebooting in the noninteractive
    frontend.

  [ Colin Watson ]
  * Automatic update of included source packages: partman-basicfilesystems
    56ubuntu3, partman-basicmethods 38ubuntu2, partman-ext3 49ubuntu2,
    partman-jfs 25ubuntu1, partman-partitioning 54ubuntu4, partman-reiserfs
    39ubuntu1, partman-target 54ubuntu2, partman-xfs 35ubuntu2.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 06 Mar 2008 15:58:39 +0000

ubiquity (1.7.15) hardy; urgency=low

  [ Mario Limonciello ]
  * debian/control:
    - Make ubiquity-frontend-gtk depend on x-window-manager to prevent
      pulling in unnecessary window managers in Xubuntu and Mythbuntu.
      This shouldn't break anything since the Ubuntu seed explicitly
      depends upon metacity and Xubuntu upon xfwm4.
  * bin/ubiquity-dm:
    - Take command out of subprocess line for X to allow it to be started
      differently for different frontends.
  * Make VNC password readable.

  [ Colin Watson ]
  * test -e fails on dangling symlinks; simply ignore errors when creating
    ~/.config/autostart/mythtv.desktop symlink, rather than trying to test
    for it in advance (LP: #197915).
  * Update imported translations from gtk+2.0 2.12.8-1.

  [ Evan Dandrea ]
  * Overload get_oem_id in base frontend to avoid calling back into the
    frontend and trying to talk to debconf when the install process already
    has the database locked (LP: #198108).
  * Install oem-config-gtk in the noninteractive frontend when appropriate.
  * apt-install needs to be called as root or it will fail silently.
  * Automatic update of included source packages: choose-mirror
    2.19ubuntu2, console-setup 1.21ubuntu4, localechooser 1.42ubuntu2,
    partman-base 114ubuntu3, partman-basicmethods 38ubuntu1, partman-jfs
    25, partman-partitioning 54ubuntu3, partman-target 54ubuntu1, user-
    setup 1.16ubuntu5.

 -- Evan Dandrea <evand@ubuntu.com>  Tue, 04 Mar 2008 11:20:07 -0500

ubiquity (1.7.14) hardy; urgency=low

  [ Mario Limonciello ]
  * Drop all references to mythappearance.
  * Use x11vnc instead of vnc4server which is broke in Hardy.
  * Add support for PVR-350 TV-Out.
  * Only remove themes when selected for removal.
  * Update included mythweb postinst for trunk behavior.

  [ Colin Watson ]
  * Split iso_3166.tab lines by tabs, fixing an infinite loop on countries
    whose names contain more than one word (LP: #193329).
  * Drop all privileges and set HOME before launching a browser to read
    release notes (LP: #194727).
  * Explicitly depend on ntfsprogs for NTFS resizing.
  * Print a traceback as well as the exception message if
    DebconfFilter.process_line raises an exception.
  * Enable debconf's escape capability for communications between the filter
    and the underlying frontend by default. Split arguments to filtered
    commands into only as many arguments as are required by the command.
    This should fix autopartitioning in certain locales (LP: #177623).
  * In ubiquity-dm, fall back to xfwm4 if metacity fails (unifying gtk_ui
    and mythbuntu_ui handling in the process). Avoid hardcoding full paths
    where possible.
  * Fix reversed handling of answer to grub-installer/install_to_xfs
    (LP: #138422).
  * Update translations from Launchpad.

  [ Evan Dandrea ]
  * partman/confirm_new_label is now partman-
    partitioning/confirm_new_label (LP: #190036).
  * Add ubiquity/automation_failure_command debconf question which is called
    whenever user interaction is required.  This includes non-fatal error
    dialogs.  ubiquity/failure_command is now only called when the installer
    crashes.
  * Make the zoomed in tzmap bigger and the points smaller.  Only select one
    timezone at a time.
  * Add a --no-continue option to disable the continue using the Live CD
    button when running in only-ubiquity mode (LP: #195935).
  * Automatic update of included source packages: apt-setup
    1:0.31ubuntu6, console-setup 1.21ubuntu3, debian-installer-utils
    1.50ubuntu2, partman-auto 73ubuntu3, partman-base 114ubuntu2, user-
    setup 1.16ubuntu4.

 -- Evan Dandrea <evand@ubuntu.com>  Fri, 29 Feb 2008 11:59:45 -0500

ubiquity (1.7.13) hardy; urgency=low

  * Drop build dependency on python-xml.
  * d-i/source/localechooser/iso3166tab.py: Include ErrorPrinter and
    DefaultHandler from obsolete saxutils.py
  * d-i/source/choose-mirror/iso3166tab.py: Likewise.

 -- Matthias Klose <doko@ubuntu.com>  Fri, 29 Feb 2008 15:53:13 +0000

ubiquity (1.7.12) hardy; urgency=low

  [ Colin Watson ]
  * Slight shell efficiency improvement in
    partman/check.d/03partition_too_small.
  * Use 'autoreconf -fi' so that Autotools files reliably get upgraded.
  * Upgrade to gettext 0.17.

  [ Evan Dandrea ]
  * Update partman_popup with respect to other recent changes
    (LP: #194688).  Thanks Colin Watson.
  * Regain root when moving /etc/default/console-setup out of the way
    (LP: #188492).  Thanks Colin Watson.
  * Minor changes to ubiquity-dm from suggestions by Colin Watson.
  * Remove suffix from icon path in .desktop file (LP: #188221).

  [ Jonathan Riddell ]
  * Fix QApplication args in ubiquity/frontend/kde_ui.py 

 -- Jonathan Riddell <jriddell@ubuntu.com>  Mon, 25 Feb 2008 10:13:27 -0500

ubiquity (1.7.11) hardy; urgency=low

  [ Jonathan Riddell ]
  * Add web proxy field to qt frontend.  
    Patch by Richard A. Johnson <nixternal@kubuntu.org>
  * Force kde_ui style to plastique, works around QtDbus/pydbus
    clash when using oxygen style

  [ Mario Limonciello ]
  * Drop fullscreen workaround in Mythbuntu interface.
  * Adjust user permissions before/after launching MythTV setup.
  * If mythbuntu frontend is present, use that.  This allows
    only-ubiquity to launch directly into this frontend.
  * Check for jockey-gtk instead of restricted-manager on a PS3 install.

  [ Evan Dandrea ]
  * Properly drop privileges in ubiquity-dm.  Previous attempts were
    relying on SUDO_UID and SUDO_GID being set.

 -- Jonathan Riddell <jriddell@ubuntu.com>  Mon, 25 Feb 2008 00:47:39 -0500

ubiquity (1.7.10) hardy; urgency=low

  [ Evan Dandrea ]
  * Check for a valid cursor position in zoommap's hit_test and other minor
    fixes.

  [ Colin Watson ]
  * Disconnect from ubiquity's debconf emulator when reconfiguring packages
    and when running ucf; recognise X_LOADTEMPLATEFILE as a valid debconf
    command (LP: #193986).

 -- Evan Dandrea <evand@ubuntu.com>  Thu, 21 Feb 2008 13:19:23 -0500

ubiquity (1.7.9) hardy; urgency=low

  [ Evan Dandrea ]
  * Drop priviliges for gnome-settings-daemon in ubiquity-dm.
  * Added a new tzmap widget.  Ubiquity now shrinks to 674x434 (LP: #38442).

  [ Colin Watson ]
  * RFC 2181 clarifies that host names may be as short as one octet, so
    allow that (LP: #193054).

  [ Evan Dandrea ]
  * Automatic update of included source packages: base-installer
    1.86ubuntu2, partman-target 52ubuntu6.

 -- Evan Dandrea <evand@ubuntu.com>  Wed, 20 Feb 2008 09:28:17 -0500

ubiquity (1.7.8) hardy; urgency=low

  * Check the md5 hash of the source and target files on copy to ensure they
    match, giving the user the option to abort, retry, or skip the file.
  * The md5 check can be disabled by preseeding
    ubiquity/install/md5_check to false.
  * Catch exceptions around the processing of each components run()
    function.
  * seteuid as a regular user until we need to do something as root.
  * Automatic update of included source packages: partman-target
    52ubuntu5.

 -- Evan Dandrea <evand@ubuntu.com>  Fri, 15 Feb 2008 00:10:18 -0500

ubiquity (1.7.7) hardy; urgency=low

  [ Mario Limonciello ]
  * Add ubiquity-frontend-mythbuntu.links to source exterior glade files.
  * Add temporary workaround to allow Mythbuntu installs on low res
    displays.
  * Fix case when no themes are removed.

  [ Colin Watson ]
  * Prevent apt-install from installing packages directly unless
    install_extras has been run (previously, it would do so once apt was
    configured, which produced some confusing error messages).
  * Call apt-setup finish-install script during cleanup, not while
    configuring apt; removing cdrom entries from sources.list at this point
    broke OEM installs and probably other things (LP: #188240).
  * Fetch http_proxy and no_proxy from gconf (if possible) immediately
    before configuring apt.
  * Update installed file list for apt-setup 1:0.31ubuntu3.
  * GTK frontend:
    - Add proxy configuration to the advanced dialog (LP: #131421).
  * Import DebconfError correctly in summary component (thanks, Jesus L.
    Alvaro; LP: #177442).
  * Build-depend on dctrl-tools rather than grep-dctrl.

  [ Evan Dandrea ]
  * Validate the boot device string that the user provides on the
    advanced page.
  * Change the boot device Entry to a ComboBox that displays suitable targets.
  * Updated the location of gnome-settings-daemon in ubiquity-dm.
  * Fix the installer window appearing briefly when starting automatic mode.
  * Explicitly call GDM/KDM at the end of ubiquity-dm as we now remove the rc
    files in casper for only-ubiquity and automatic-ubiquity.
  * Always show the advanced partitioner buttons, greying them out
    conditionally instead of hiding them.
  * Add the progress bar for automatic mode that was already present in
    gtk_ui to kde_ui.
  * Replace the resize slider with a custom widget in gtk_ui.
  * Automatic update of included source packages: apt-setup
    1:0.31ubuntu5, grub-installer 1.27ubuntu5, hw-detect 1.58ubuntu2,
    partman-partitioning 54ubuntu2.

  [ Agostino Russo ]
  * Added debug mode boot parameter

 -- Evan Dandrea <evand@ubuntu.com>  Wed, 13 Feb 2008 15:03:15 -0500

ubiquity (1.7.6) hardy; urgency=low

  [ Mario Limonciello ]
  * Update plugins for changes with MythTV 0.21

  [ Evan Dandrea ]
  * Automatic update of included source packages: partman-target
    52ubuntu4.

 -- Evan Dandrea <evand@ubuntu.com>  Fri, 01 Feb 2008 11:30:33 -0500

ubiquity (1.7.5) hardy; urgency=low

  [ Evan Dandrea ]
  * Add accessibility support to 'only-ubiquity'.
  * Move noninteractive frontend to a purely gobject-based event loop
    (LP: #149477).
  * Noninteractive mode now implies --automatic (LP: #149473).
  * Add new nautilus gconf keys to the list we temporarily disable to
    prevent constant pop-ups.
  * Automatic update of included source packages: console-setup
    1.21ubuntu2, migration-assistant 0.6.0, partman-target 52ubuntu3,
    user-setup 1.16ubuntu3.

  [ Mario Limonciello ]
  * Add proper theme support to mythbuntu FE.

  [ Colin Watson ]
  * Update console-setup component for layout and variant changes in
    console-setup 1.21ubuntu1.
  * Run fontconfig-voodoo with --force.
  * Call 'fontconfig-voodoo --auto --force --quiet' when the language is
    changed. May help with LP #185269.

 -- Evan Dandrea <evand@ubuntu.com>  Wed, 30 Jan 2008 15:32:25 -0500

ubiquity (1.7.4) hardy; urgency=low

  [ Mario Limonciello ]
  * debian/control:
    - add mythbuntu-common to depends.
  * Modify lirc handling to use mythbuntu-common.

  [ Colin Watson ]
  * Simplify check for gconftool-2 being on $PATH.

  [ Evan Dandrea ]
  * Changed the system partition unformatted check to a warning, in support of
    ubiquity-preserve-home.
  * Automatic update of included source packages: grub-installer
    1.27ubuntu2, partman-auto-loop 0ubuntu13, partman-basicfilesystems
    56ubuntu2, partman-ext3 49ubuntu1, partman-target 52ubuntu2.

 -- Evan Dandrea <evand@ubuntu.com>  Wed, 23 Jan 2008 16:29:56 +0000

ubiquity (1.7.3) hardy; urgency=low

  [ Mario Limonciello ]
  * Show correct image in ubiquity-mythbuntu.desktop.
  * Check only for .desktop file in autostart on mythbuntu.
  * Revamp scripts/mythbuntu/mythbuntu-setup to be more restrictive
    upon xhost authentication, and remove dbus reliance.

  [ Colin Watson ]
  * udev 117 merged all udev tools into a single binary called udevadm.
    Check for this and use it instead of udevinfo if available.

  [ Evan Dandrea ]
  * Properly handle situations where localechooser might ask
    languagechooser/language-name-* (LP: #181440).
  * Correctly answer both countrychooser/shortlist and
    countrychooser/country-name (LP: #174937).
  * Automatic update of included source packages: console-setup
    1.19ubuntu2, partman-auto-loop 0ubuntu12.

 -- Evan Dandrea <evand@ubuntu.com>  Fri, 11 Jan 2008 09:41:30 -0500

ubiquity (1.7.2) hardy; urgency=low

  [ Evan Dandrea ]
  * XS-Vcs-Bzr is now Vcs-Bzr.
  * Strip out support for creating multiple users in migration-assistant.
  * Save state in between runs of migration-assistant (LP: #151126).
  * Added partman/check.d/03partition_too_small to warn the user when a
    partition isn't large enough to contain the respective part of /rofs
    (LP: #48355).
  * Modified scripts/install.py to handle ENOSPC.
  * Tore out partition_help.  This may be replaced by more detailed help text,
    viewable by pressing a help button.
  * Don't set can_focus on the timezone combo box as it prevents you from
    tabbing back out of it.  Thanks Sebastien (LP: #136665).

  [ Colin Watson ]
  * Copy xserver-xorg/config/display/modes to the installed system before
    reconfiguring usplash (LP: #150930).
  * Update for apt-setup 1:0.31ubuntu1.
  * Update d-i/update-control to work with the new Dpkg::Deps module in
    dpkg-dev 1.14.8.
  * Update partman extensions to cope with changes in partman-base 114
    (/lib/partman/definitions.sh -> /lib/partman/lib/base.sh).
  * Automatic update of included source packages: apt-setup 1:0.31ubuntu2,
    base-installer 1.86ubuntu1, debian-installer-utils 1.50ubuntu1,
    partman-auto 73ubuntu1, partman-base 114ubuntu1, partman-basicmethods
    36, partman-efi 14ubuntu1, partman-partitioning 54ubuntu1.

  [ Mario Limonciello ]
  * Correct a small typo in mythbuntu template. (LP: #155194)
  * Don't allow mythbuntu remote configuration pages to progress
    when "Other Remote" is selected. (LP: #157233)
  * Check for files related to mythbuntu autostart rather than assuming
    they don't already exist. (LP: #173378)
  * Don't allow the user to progress on non mythbuntu master backend roles
    unless they test their connection. (LP: #164979)
  * Allow dvb-utils to be selected during installation (LP: #130924)
  * Allow hdhomerun configuration to be installed. (LP: #153065)

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 18 Dec 2007 13:05:15 +0000

ubiquity (1.7.1) hardy; urgency=low

  * clock-setup in d-i now explicitly calls tzsetup, but we handle tzsetup
    earlier on, so remove the tzsetup call in clock-setup.

 -- Evan Dandrea <evand@ubuntu.com>  Thu, 29 Nov 2007 13:59:01 -0500

ubiquity (1.7.0) hardy; urgency=low

  [ Mario Limonciello ]
  * Divert gtk frontend .desktop file and logo  to a better location
    so that it isn't improperly sourced by Xfce.
  * Properly execute mythbuntu frontend from .desktop file.
  * Set default mythtv theme on all installs to be mythtv-theme-mythbuntu.
  * Fix a few typos preventing xmltv from being installed.
  * Launch mythtv-setup.real in a terminal window allowing xmltv
    to be used during it.
  * Fix typo preventing mysql service from activating.
  * Fail more gracefully if we can't do aticonfig.
  * Add apt-cdrom to target system for mythbuntu to work around
    apt-setup not working in ubiquity-mythbuntu. (LP: #154732)

  [ Michael Haas ]
  * Force LC_CTYPE as a temporary workaround for locale issues
    when writing out VNC. (LP: #149935, #150029)

  [ Colin Watson ]
  * Fix ubiquity-frontend-* and ubiquity-artwork-* virtual package name
    generation to handle ~ in versions.
  * Add an intro message noting that we're alpha again.
  * Adjust for localechooser 1.40:
    - Cope with localechooser asking countrychooser/country-name rather than
      countrychooser/shortlist.
  * Remove the pregenerated snakeoil certificate and reconfigure ssl-cert so
    that each system gets a unique snakeoil certificate.

  [ Evan Dandrea ]
  * Removed the somewhat confusing reminder to remove the CD from the reboot
    dialog.  Casper handles telling the user this at the right moment via
    a final usplash message. (LP: #70088)
  * Automatic update of included source packages: base-installer
    1.85ubuntu2, choose-mirror 2.19ubuntu1, clock-setup 0.92ubuntu1,
    console-setup 1.19ubuntu1, debian-installer-utils 1.49ubuntu1, grub-
    installer 1.27ubuntu1, hw-detect 1.58ubuntu1, kboot-installer
    0.0.1ubuntu6, localechooser 1.42ubuntu1, partconf 1.24, partman-auto
    70ubuntu1, partman-base 111ubuntu1, partman-basicfilesystems
    56ubuntu1, partman-ext3 48, partman-jfs 23, partman-partitioning
    52ubuntu1, partman-reiserfs 37, partman-target 52ubuntu1, partman-
    xfs 35, silo-installer 1.12ubuntu1, tzsetup 1:0.19, user-setup
    1.16ubuntu1.

 -- Evan Dandrea <evand@ubuntu.com>  Thu, 29 Nov 2007 11:56:18 -0500

ubiquity (1.6.8) gutsy; urgency=low

  * Fix non-x86 installation: initialise automatic_mode even if we aren't
    using grub-installer.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 15 Oct 2007 20:40:46 +0100

ubiquity (1.6.7) gutsy; urgency=low

  * Reset migration-assistant page state when returning to it.
    Temporary fix for (LP: #151126).
  * Automatic update of included source packages: migration-assistant
    0.5.4.

 -- Evan Dandrea <evand@ubuntu.com>  Mon, 15 Oct 2007 12:48:45 -0400

ubiquity (1.6.6) gutsy; urgency=low

  [ Evan Dandrea ]
  * Back out recent test for the user existing in the m-a debconf
    section.  It isn't necessary and it breaks the installer when m-a is
    used (LP: #151243).

  [ Colin Watson ]
  * Ignore IOError exceptions while fetching packages; they happen when the
    network is disconnected, and aren't important enough to result in scary
    error messages or even hangs (LP: #145012).
  * Remove apt_pkg.init() workaround for LP #131294, which had too many
    other ill effects. We're fixing this in apt-setup instead.
  * Automatic update of included source packages: apt-setup 1:0.21ubuntu4.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 10 Oct 2007 18:31:50 +0100

ubiquity (1.6.5) gutsy; urgency=low

  * Revert accidental copy and paste of migration-assistant specific
    code (LP: #151051).

 -- Evan Dandrea <evand@ubuntu.com>  Tue, 09 Oct 2007 15:48:57 -0400

ubiquity (1.6.4) gutsy; urgency=low

  [ Evan Dandrea ]
  * Only set migration-assistant data in user-setup if updating an existing
    user (LP: #135149).
  * Properly filter out partitions marked for deletion in
    migrationassistant.py (LP: #146222).
  * Fixed a bug where the migration-assistant page would not be updated to
    reflect changes, such as if the user went back and partitioned
    differently, if the page had already been shown.

  [ Mario Limonciello ]
  * Copy over detected xserver-xorg changes to ensure BulletProofX
    is functional after installation.  This behavior is temporary
    for gutsy and will be removed after the BulletProofX spec is
    reworked.

  [ Colin Watson ]
  * Automatic update of included source packages: migration-assistant 0.5.3.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 09 Oct 2007 17:11:38 +0100

ubiquity (1.6.3) gutsy; urgency=low

  [ Evan Dandrea ]
  * Remember to not use the migration-assistant dbfilter when using
    --no-migration-assistant, again (LP: #148766).
  * Update noninteractive frontend to use recent changes to FilteredCommand
    (LP: #149473).

  [ Colin Watson ]
  * Remove excessive blank lines in GDM and KDM configuration files in OEM
    mode.
  * GTK frontend:
    - Make sure the next button remains the default widget despite being
      hidden and re-shown.
  * Shell out to sed for now rather than using flaky, complicated, and above
    all incorrect code to edit gdm.conf and kdmrc for autologin in OEM mode
    (LP: #149985).
  * Update translations from Rosetta.
  * Automatic update of included source packages: user-setup 1.14ubuntu4.

 -- Colin Watson <cjwatson@ubuntu.com>  Sun, 07 Oct 2007 21:00:19 +0100

ubiquity (1.6.2) gutsy; urgency=low

  [ Evan Dandrea ]
  * Add 'only-ubiquity' option to kernel cmdline to run ubiquity in a
    minimal session.  Thanks Tormod Volden (LP: #148341).
  * Filter out partition selections that do not have any users.

  [ Jonathan Riddell ]
  * KDE frontend:
   - Change ext3 to a less dangerous looking colour than red

  [ Colin Watson ]
  * Disable the intro message, as Ubuntu 7.10 is approaching.
  * Update translations from Rosetta.
  * Automatic update of included source packages: choose-mirror 2.15ubuntu2,
    debian-installer-utils 1.48ubuntu2.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 05 Oct 2007 13:23:00 +0100

ubiquity (1.6.1) gutsy; urgency=low

  [ Evan Dandrea ]
  * Modified the install component to allow grub preseeding in automatic mode.
  * Add missing subprocess import to base.py.
  * Respect preseeded values for grub-installer/with_other_os and
    grub-installer/only_debian.

  [ Colin Watson ]
  * Strip translation context for imported strings (e.g. "Navigation|_Back")
    at a lower level so that it applies to the KDE frontend too.
  * KDE frontend:
    - Remove some duplicate code during widget translation.
    - Retranslate oem_id_label when the language is changed.
  * Update imported translations from gtk+2.0 2.12.0-0ubuntu1.
  * Forbid consecutive, initial, or final dots in hostnames (LP: #105890).
  * Check whether gconftool-2 exists before calling it.
  * Add missing Provides to ubiquity-frontend-mythbuntu.
  * Switch XS-Vcs-Bzr to the ~ubuntu-installer branch we're using at the
    moment.
  * Stop installing doc/Changelog.Guadalinex as the upstream changelog, as
    it's no longer current.
  * Upgrade to gettext 0.16.1.
  * Start dcopserver when running the KDE frontend in automatic-ubiquity
    mode (LP: #145226).
  * GTK frontend:
    - Work around http://bugzilla.gnome.org/show_bug.cgi?id=56070 by hiding
      and re-showing the button widgets, following a suggestion by Scott
      Horowitz.
    - Make the OK button the default widget in the create and edit partition
      dialogs.
  * Remove d-i/source/console-setup/Keyboard/MyKeyboardNames.pl on clean.
  * Only run gnome-settings-daemon if it exists, removing dependency on
    gnome-control-center (LP: #147852).
  * Add advanced button text to translation template (LP: #147612).
  * Add install button text to translation template, distinguished from the
    window title (LP: #103925).
  * Load strings for "Use as:" and "Mount point:".
  * Update translations from Rosetta.
  * Automatic update of included source packages: base-installer
    1.81ubuntu4, partman-auto-loop 0ubuntu11, partman-target 50ubuntu5.

  [ Mario Limonciello ]
  * Actually install xmltv from on-cd repo if checked.
  * Correct minor typo for nvidia xorg generation.
  * Explicitly remove via drivers before trying to install openchrome.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 03 Oct 2007 10:36:27 +0100

ubiquity (1.6.0) gutsy; urgency=low

  [ Mario Limonciello ]
  * Add support for all 3 different nvidia drivers.
  * Add initial support for xmltv during installation.
  * Update debconf text for myth_button & mythweb.
  * Explicity install libvia* with openchrome install.
  * Setup autologin for new Xfce based approach.

  [ Colin Watson ]
  * Update translations from Rosetta.
  * Set Maintainer to ubuntu-installer@lists.ubuntu.com and put Evan and
    myself in Uploaders.

  [ Evan Dandrea ]
  * Slight improvement for automating migration-assistant.
  * Add preseed hooks for rebooting, install failure, and install
    success.
  * Automatic update of included source packages: hw-detect 1.53ubuntu3,
    kboot-installer 0.0.1ubuntu5, partman-base 107ubuntu4, partman-
    basicfilesystems 54ubuntu4, user-setup 1.14ubuntu3, yaboot-installer
    1.1.11ubuntu2.

 -- Evan Dandrea <evand@ubuntu.com>  Fri, 28 Sep 2007 11:53:06 -0400

ubiquity (1.5.18) gutsy; urgency=low

  [ Mario Limonciello ]
  * Fix minor typo in apply-drivers.

  [ Colin Watson ]
  * GTK frontend:
    - Make release notes button work again (LP: #138365).

  [ Evan Dandrea ]
  * Fix typo in realpath_recurse (LP: #144460).
  * Automatic update of included source packages: base-installer
    1.81ubuntu3, console-setup 1.16ubuntu5.

 -- Evan Dandrea <evand@ubuntu.com>  Mon, 24 Sep 2007 16:19:07 -0400

ubiquity (1.5.17) gutsy; urgency=low

  * Use the --automatic option when running ubiquity from the init script
    (thanks, Evan Dandrea).
  * Work around migration-assistant always being shown in automatic
    installs.
  * Automatic update of included source packages: migration-assistant 0.5.1,
    partman-auto-loop 0ubuntu9.

 -- Colin Watson <cjwatson@ubuntu.com>  Sat, 22 Sep 2007 03:27:23 +0100

ubiquity (1.5.16) gutsy; urgency=low

  [ Evan Dandrea ]
  * Updated kde_ui.py to reflect recent fixes to gtk_ui.py.
  * Small fix to return to the right page on return_to_partitioning.

  [ Colin Watson ]
  * Translate widgets from all glade files, not just the main one.
  * Purge ucf's state for /etc/papersize so that it will be recreated
    properly (LP: #128258).
  * Fix automatic-ubiquity option handling in init script.
  * Automatic update of included source packages: hw-detect 1.53ubuntu2,
    kboot-installer 0.0.1ubuntu4, localechooser 1.38ubuntu2,
    migration-assistant 0.5.0, partman-auto-loop 0ubuntu7, partman-base
    107ubuntu3.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 20 Sep 2007 22:59:23 +0100

ubiquity (1.5.15) gutsy; urgency=low

  [ Evan Dandrea ]
  * Fixed backup in the UI wrt the new page turning code.
  * Fix canceling from the intro page.
  * Fix hostname validation (LP: #137592).

  [ Colin Watson ]
  * Start ubiquity init script at 29; don't bother stopping it.
  * Update translations from Rosetta (LP: #132157).
  * Remove question mark from popularity-contest checkbox text
    (LP: #135140).
  * Adjust grub_enable text to have more usual capitalisation and spelling.
  * Internationalise partitioning and advanced dialogs. Remove
    popcon_checkbutton special case as its text now differs from that in
    popularity-contest.
  * Don't ignore 'make distclean' errors other than missing Makefiles.
  * Automatic update of included source packages: partman-auto-loop
    0ubuntu6, user-setup 1.14ubuntu2.

  [ Michael Haas ]
  * Allow VNC to be selected with foreign locales in mythbuntu
    interface. (LP: #136482)

  [ Mario Limonciello ]
  * Include a .desktop file for mythbuntu installation.
  * Divert the regular GTK desktop file on mythbuntu package.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 17 Sep 2007 14:23:02 +0100

ubiquity (1.5.14) gutsy; urgency=low

  [ Mario Limonciello ]
  * Rework proprietary drivers page.  Include openchrome and nvidia legacy
    support.  Drop restricted-manager --check and --list.

  [ Evan Dandrea ]
  * Fixed a typo in noninteractive check.

  [ Colin Watson ]
  * Call update-rc.d so that automatic-ubiquity stands a chance of working.
  * Automatic update of included source packages: grub-installer
    1.24ubuntu4.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 11 Sep 2007 20:16:42 +0100

ubiquity (1.5.13) gutsy; urgency=low

  [ Mario Limonciello ]
  * Correct typo in HDHomerun application.
  * Make sure that backend_configured happens for right user.
  * Re-order installer so Mythbuntu steps appear at a different time.
  * Make sure errno errors can be reported properly in mythbuntu_install.py
    (LP: #130771)

  [ Evan Dandrea ]
  * The migration-assistant page will now be skipped if there are no
    partitions able to be imported from.
  * Initialize self.errors in migration-assistant (LP: #134254).
  * Add a progress bar for automatic mode.
  * Update noninteractive frontend to work with recent changes.
  * Temporary fix for the language packs no longer installing bug (LP:
    #131294)

  [ Colin Watson ]
  * If 'automatic-ubiquity' is on the kernel command line, start Ubiquity in
    its own X session. Thanks to Agostino Russo for the prototype of this.
  * Just call 'reboot' rather than gdm/kdm-specific reboot methods if
    DESKTOP_SESSION isn't set in the environment.
  * Automatic update of included source packages: apt-setup 1:0.21ubuntu3,
    base-installer 1.81ubuntu2, grub-installer 1.24ubuntu3,
    partman-auto-loop 0ubuntu5, partman-efi 13ubuntu2, partman-target
    50ubuntu4.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 07 Sep 2007 18:24:17 +0100

ubiquity (1.5.12) gutsy; urgency=low

  [ Mario Limonciello ]
  * Disable tv-tuner selection GUI in mythbuntu frontend until
    mythbuntu-firmware-detector is completed.
  * Remove mythbuntu scripts present in multiple binary packages from
    ubiquity binary package. (LP: #131092)
  * Rework all mythbuntu scripts and behavior of UI to make every GTK
    notebook page a debconf step.
  * Add support to choose hdhomerun during install.
  * Fix broken mythbuntu_apply that still had "no" rather than "false" for
    items to remove. (LP: #130641)

  [ Thomas Mashos ]
  * Update mythbuntu GUI to reflect schedules direct requirement for North
    American users.
  * Make sure Mythbuntu automatic login is prepared for proper user.

  [ Evan Dandrea ]
  * Automatic update of included source packages: grub-installer
    1.24ubuntu2, partman-target 50ubuntu3.

 -- Evan Dandrea <evand@ubuntu.com>  Sat, 25 Aug 2007 14:05:06 -0400

ubiquity (1.5.11) gutsy; urgency=low

  * Remove accidentally leftover debugging code
  * Repeat changes to page handling code to kdeui.
  * Automatic update of included source packages: partman-
    basicfilesystems 54ubuntu3, partman-partitioning 50ubuntu2.

 -- Evan Dandrea <evand@ubuntu.com>  Mon, 20 Aug 2007 17:31:47 -0400

ubiquity (1.5.10) gutsy; urgency=low

  * Fix intltool to fix FTBFS.  Thanks Keybuk.

 -- Evan Dandrea <evand@ubuntu.com>  Thu, 16 Aug 2007 17:10:35 -0400

ubiquity (1.5.9) gutsy; urgency=low

  [ Colin Watson ]
  * Add a manual page for ubiquity.

  [ Evan Dandrea ]
  * Merged in changes to modify the way pages are called.  This is
    necessary to support page skipping in automatic mode.
  * Use a migration-assistant script to continuously call m-a rather
    than hacking cleanup().

 -- Evan Dandrea <evand@ubuntu.com>  Thu, 16 Aug 2007 13:35:18 -0400

ubiquity (1.5.8) gutsy; urgency=low

  [ Mario Limonciello ]
  * Fix mythbuntu lircd.conf generation.
  * Update lircd gui to fit better.
  * Clean up mythbuntu summary text.  Remove all passwords that are
    shown.
  * Activate mythweb security.
  * Add lirc to mythbuntu depends.
  * In postinstall mythbuntu-setup, change xhost behavior.
  * Add lirc.hwdb population to mythbuntu lirc steps
  * Make all "yes"/"no"'s True/False
  * Add support to enable/disable boot loader installation in GTK,
    KDE, and Mythbuntu frontends (LP: #130445)

  [ Evan Dandrea ]
  * Don't dump debug information to the console when using --automatic.
  * Get the user password straight from debconf in noninteractive mode.

  [ Colin Watson ]
  * Add partman-auto-loop.
  * Move oem-config post-user-creation hacks to the end of install_extras,
    when oem-config-gtk/kde will have been installed in /target
    (LP: #131250).
  * Reimplement more of oem-config-udeb (ugh): disable the hwdb-client
    notification for the created user; set up autologin for the oem user via
    gdm/kdm.
  * Disable migration-assistant if oem-config/enable=true.
  * Adjust apport hook to attach /var/log/installer/debug too if available.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 09 Aug 2007 19:57:31 +0100

ubiquity (1.5.7) gutsy; urgency=low

  * Run apt's DoInstall() method with stdin redirected from /dev/null, to
    stop it hijacking the debconf protocol (LP: #130843).
  * Automatic update of included source packages: apt-setup 1:0.21ubuntu2,
    base-installer 1.81ubuntu1, partman-auto 69ubuntu5.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 07 Aug 2007 17:25:04 +0100

ubiquity (1.5.6) gutsy; urgency=low

  [ Colin Watson ]
  * Make ubiquity-frontend-mythbuntu Architecture: all.
  * Fix question_type vs. self.question_type crash in partman_commit
    (LP: #125539).
  * Unmangle entries from /etc/mtab before trying to unmount them (also
    LP: #125539).

  [ Evan Dandrea ]
  * Don't preseed seen to false, or stay in the gtk event loop on the
    summary page, when using --automatic.
  * Temporary workaround for 122645.
  * Automatic update of included source packages: partman-auto
    69ubuntu3, partman-base 107ubuntu2, partman-basicfilesystems
    54ubuntu2, partman-target 50ubuntu2.

 -- Evan Dandrea <evand@ubuntu.com>  Tue, 17 Jul 2007 09:48:14 -0400

ubiquity (1.5.5) gutsy; urgency=low

  [ Colin Watson ]
  * KDE frontend: Disable the KDE media notifier for the entire duration of
    installation (LP: #122500).
  * Rename gtk-ui to gtk_ui and kde-ui to kde_ui, to make it easier to
    subclass them.
  * If oem-config/enable is true, then:
    - Adjust title bar to indicate that Ubiquity is running in OEM mode.
    - Hardcode the user's full name to "OEM Configuration (temporary user)",
      the username to "oem", and the UID to 29999.
    - Install the appropriate oem-config-FRONTEND package on the target
      system.
    - Install a desktop file for oem-config-prepare on the oem user's
      desktop.
    - Ask for a unique identifier for this batch of installations, and save
      that in /var/log/installer/oem-id on the installed system.
  * Add a warning in d-i/source/README about modifying files in this
    directory.
  * GTK frontend:
    - Fix full-name error reason widget, and make the error reasons
      selectable.
    - Suppress some spurious uncaught exceptions on startup.
    - Don't reconfigure the username entry box as a combo box if
      migration-assistant didn't find any users.
  * Replicate the apt configuration done by base-installer (trust CD-ROMs,
    allow unauthenticated packages if debian-installer/allow_unauthenticated
    is true, bind-mount /cdrom into /target, and configure apt-cdrom/apt not
    to mount CD-ROMs).
  * Install packages passed to apt-install even if they aren't on the live
    filesystem, as long as they're available from the apt archive on the CD
    (LP: #114296).

  [ Evan Dandrea ]
  * Initial commit of ubiquity-automation work:
    - Added a new frontend, noninteractive.
    - debconffilter now respects the "seen" flag when running in automatic
      mode.

  [ Mario Limonciello ]
  * Merge in mythbuntu alpha 2 changes.
  * Set all mythbuntu labels to word wrap.
  * Add mythbuntu to translatable files.

  [ Evan Dandrea ]
  * Automatic update of included source packages: base-installer
    1.80ubuntu2, hw-detect 1.53ubuntu1, silo-installer 1.10ubuntu4.

 -- Evan Dandrea <evand@ubuntu.com>  Wed, 11 Jul 2007 10:34:53 +0100

ubiquity (1.5.4) gutsy; urgency=low

  [ Colin Watson ]
  * Make sure that the bounds of the spin button in the partition edit
    dialog always include the current size of the partition, even if for
    some reason it is outside the minimum/maximum resize ranges reported by
    partman, which can happen due to rounding errors in ubiquity/partman
    communication (part of #95619).
  * Save /var/log/casper.log to installed system (LP: #119993).
  * KDE frontend:
    - Say "Skip" (or translation thereof) rather than "Cancel" in progress
      dialog (LP: #116631).
    - Fix crash if one of the placeholder continent entries is selected as
      the timezone (LP: #112813).
  * From the department of pickiness: PEP-8 import ordering.
  * Move .glade and .ui files to a new top-level gui directory in the source
    package. Install .ui files in /usr/share/ubiquity/qt rather than in
    /usr/lib/ubiquity/ubiquity/frontend now that they are loaded on the fly
    rather than being compiled into .py files statically.
  * If /etc/udev/rules.d/70-persistent-net.rules exists, copy it rather than
    generating /etc/iftab.

  [ Mario Limonciello ]
  * Break up the glade file into multiple pieces to make updates
    to single pages a lot easier.

  [ Nathan Collins ]
  * Fix typo in unionfs dirs= option generation (LP: #118742).

  [ Evan Dandrea ]
  * Work around 122141 by keeping a reference to the button image.
  * Automatic update of included source packages: silo-installer
    1.10ubuntu3.

 -- Evan Dandrea <evand@ubuntu.com>  Tue, 26 Jun 2007 10:26:53 -0400

ubiquity (1.5.3) gutsy; urgency=low

  [ Colin Watson ]
  * Drop into pdb.post_mortem on non-SyntaxError exceptions if the --pdb
    option is given and ubiquity is running from a terminal.
  * Work around hang on PS3 by stopping various non-essential processes
    first (LP: #106683).

  [ Evan Dandrea ]
  * Set the partition model after populating it in the KDE UI
    (LP: #118967).
  * Automatic update of included source packages: console-setup
    1.16ubuntu4, kboot-installer 0.0.1ubuntu3, partman-newworld
    18ubuntu1.

 -- Evan Dandrea <evand@ubuntu.com>  Mon, 11 Jun 2007 11:01:50 -0400

ubiquity (1.5.2) gutsy; urgency=low

  [ Evan Dandrea ]
  * Prevent mounted volumes icons from appearing on the desktop.
    (LP: #105531)
  * Make sure the summary question regex gets split properly.
  * Fix typo in base frontend get_summary_device stub.

  [ Colin Watson ]
  * Automatic update of included source packages: console-setup 1.16ubuntu3.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 05 Jun 2007 09:03:20 +0100

ubiquity (1.5.1) gutsy; urgency=low

  * Install doc/README in the ubiquity binary package.
  * Update console-setup component for Lithuanian changes in console-setup
    1.16ubuntu1.
  * Remove stray references to ubiquity.settings.
  * Restore distribution() function used by bin/ubiquity, previously in
    ubiquity.misc.
  * Clean up some breakage from ubiquity.misc.ex -> ubiquity.misc.execute
    renaming.
  * Automatic update of included source packages: console-setup 1.16ubuntu2,
    partman-partitioning 50ubuntu1, silo-installer 1.10ubuntu2.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 04 Jun 2007 16:32:50 +0100

ubiquity (1.5.0) gutsy; urgency=low

  * Fix escaping of migration-assistant summary.
  * Only display partitions with scheduled migrations in the summary, and
    improve the formatting slightly.
  * Remove another stray newline from the migration-assistant summary.
  * GTK frontend:
    - Pressing Enter in the migration-assistant user/password entry boxes
      activates the Forward button.
    - Drop X-Ubuntu-Gettext-Domain=ubiquity in the .desktop file for now, to
      work around a bug somewhere that causes the translations in the
      .desktop file to be ignored in that case.
    - Disable thunar automounting during installation (LP: #107259).
  * Remove the old advanced partitioner.
  * Use code based on shutil.copyfileobj rather than shutil.copyfile to copy
    files, avoiding a couple of unnecessary stats due to os.path.samefile.
  * Remove netcloner, noui, and text frontends, which are too out-of-date at
    the moment even to be worth using as examples. A reimplementation would
    need to start from scratch anyway.
  * Rename gtkui frontend to gtk-ui to match kde-ui (which had to be named
    that way due to a clash with python-kde3).
  * Update some copyright dates.
  * Split out internationalisation code from ubiquity.misc into
    ubiquity.i18n.
  * Remove some dead code from ubiquity.misc.
  * Create a BaseFrontend class and move various things to it; it now counts
    as a relatively clear specification of what a frontend has to implement.
  * Reorder some frontend methods to follow the ordering of the UI.
  * Fix crash if partman exits while the create or edit dialog is being
    displayed (LP: #108204).
  * Reconfigure /etc/papersize on installation (LP: #104160).
  * When changing values of debconf questions in /target, make sure to shut
    down debconf-communicate even if the Python debconf confmodule raises an
    exception.
  * Add an intro message noting that we're alpha again.
  * Rename ubiquity.misc.ex to ubiquity.misc.execute.
  * Automatic update of included source packages: apt-setup 1:0.21ubuntu1,
    base-installer 1.79ubuntu1, choose-mirror 2.15ubuntu1, clock-setup
    0.16ubuntu1, console-setup 1.15ubuntu1, debian-installer-utils
    1.48ubuntu1, grub-installer 1.24ubuntu1, hw-detect 1.52ubuntu2,
    localechooser 1.38ubuntu1, partconf 1.23, partman-auto 69ubuntu1,
    partman-base 107ubuntu1, partman-basicfilesystems 54ubuntu1,
    partman-basicmethods 35, partman-efi 13ubuntu1, partman-ext3 47,
    partman-jfs 22, partman-newworld 18, partman-partitioning 49ubuntu1,
    partman-reiserfs 36, partman-target 50ubuntu1, partman-xfs 34,
    silo-installer 1.10ubuntu1, tzsetup 1:0.17, user-setup 1.14ubuntu1,
    yaboot-installer 1.1.11ubuntu1.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 23 May 2007 15:24:35 +0100

ubiquity (1.4.11) feisty; urgency=low

  * Fix broken French and Turkish translations of "Go Back" and "Continue"
    (LP: #105903).

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 12 Apr 2007 18:46:59 +0100

ubiquity (1.4.10) feisty; urgency=low

  * Improve the layout of the language page resulting from the release-notes
    link (LP: #105470).
  * Automatic update of included source packages: hw-detect 1.45ubuntu4.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 11 Apr 2007 14:10:21 +0100

ubiquity (1.4.9) feisty; urgency=low

  * Suppress error dialog if the user quits while a debconffiltered process
    is running.
  * New partitioner: If the user tries to change multiple attributes of a
    partition at once, look each item up in the partman menu in sequence
    rather than looking them all up at the start. This makes it possible
    e.g. to change the method from one that doesn't support a mountpoint to
    one that does and set a mountpoint at the same time.
  * Update translations from Rosetta.
  * Automatic update of included source packages: console-setup
    1.13ubuntu13, partman-auto 62ubuntu10.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 10 Apr 2007 22:52:56 +0100

ubiquity (1.4.8) feisty; urgency=low

  * Install PartitionsBarKde.py in ubiquity-frontend-kde.install
  * Only translate QWidgets (LP: #103575)

 -- Jonathan Riddell <jriddell@ubuntu.com>  Fri,  6 Apr 2007 16:58:04 +0100

ubiquity (1.4.7) feisty; urgency=low

  [ Colin Watson ]
  * Set PARTMAN_ALREADY_CHECKED when committing changes from the new
    advanced partitioner, to avoid duplicate warnings (LP: #100009).
  * Use debconf escape capability to simplify migration-assistant summary
    handling.
  * Update Japanese keyboard layout handling to match console-setup
    1.7ubuntu18, which uses jp(latin),jp by default (LP: #63915).
  * Display an error dialog if a subsidiary process fails (LP: #92442).
  * Update translations from Rosetta.
  * Automatic update of included source packages: console-setup
    1.13ubuntu12, migration-assistant 0.4.5, partman-base 105ubuntu3.

  [ Jonathan Riddell ]
  * KDE frontend
    - Disable all widgets in autopartition subchoices
      when selecting another parent choice
    - Fix misplaced widgets on user details page (LP: #86175)
    - Hide error messages from user info at start of each evaluation
    - Use Apport as crash handler when available
    - Add a graphical disk partition widget

  [ Evan Dandrea ]
  * Catch exceptions in migration-assistant to avoid bringing down the
    entire installer.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  5 Apr 2007 12:27:58 +0100

ubiquity (1.4.6) feisty; urgency=low

  * KDE frontend: Fetch locale from frontend object rather than partition
    tree item, fixing a crash rendering unusable partitions (LP: #99660).
  * Automatic update of included source packages: console-setup
    1.13ubuntu10.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon,  2 Apr 2007 02:05:20 +0100

ubiquity (1.4.5) feisty; urgency=low

  * Handle migration-assistant/failed-unmount being asked from ma-apply.
  * If installing or removing packages fails, then display a helpful error
    message and try to continue rather than crashing; furthermore, avoid
    installing language packs or removing packages when there are broken
    packages on the target system (LP: #54282, #69470, #80938).
  * Don't crash if Install exits due to SIGINT, SIGTERM, or SIGKILL, since
    these are probably user-generated.
  * Prepare for partman-partitioning/confirm_resize being asked during
    autopartitioning (partman-auto 62ubuntu9).
  * Do a better job of trying to get the exit code of subsidiary processes.
  * Update translations from Rosetta.
  * Automatic update of included source packages: hw-detect 1.45ubuntu3,
    migration-assistant 0.4.3, partman-auto 62ubuntu9, partman-base
    105ubuntu2, user-setup 1.8ubuntu3.

 -- Colin Watson <cjwatson@ubuntu.com>  Sat, 31 Mar 2007 01:26:33 +0100

ubiquity (1.4.4) feisty; urgency=low

  * New partitioner:
    - Mark unusable free space as such (part of LP: #86202).
    - Add "Used" column (LP: #96126).
    - Pressing Enter in the create/edit dialog mount point entry box
      activates the OK button.
  * Old partitioner: Work around yet another hard-to-explain crash due to a
    partition being missing from /proc/partitions (LP: #73058).
  * KDE frontend:
    - Disable subsidiary autopartitioning options according to the primary
      selection (thanks to Thorbjørn Tux for prompting me with suggestions;
      LP: #85980).
    - Guard against on_partition_list_*_activate being called with no
      partition selected (LP: #95429).
  * Issue a debugging message any time a process exits, not just when it
    exits non-zero.
  * Disable migration-assistant if using the old partitioner: it crashes and
    is probably too much trouble to fix.
  * Avoid crashing in certain progressposition methods if no progress bar is
    running (LP: #51077).
  * Return to partitioning if you back up from partman-commit (LP: #78930).
  * Adjust ubiquity/text/partition_help, ubiquity/text/finished_label,
    debian/intro-alpha.txt, and debian/intro-beta.txt to avoid the
    grammatical error "make sure to" (LP: #86284).
  * Automatic update of included source packages: base-installer
    1.70ubuntu6, partman-auto 62ubuntu8, partman-partitioning 47ubuntu5,
    silo-installer 1.07ubuntu4.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 26 Mar 2007 18:39:53 +0100

ubiquity (1.4.3) feisty; urgency=low

  * Install dummy policy-rc.d and start-stop-daemon while doing anything
    that might install or remove packages in the target system, so that we
    don't try to run init scripts (LP: #89463).
  * Automatic update of included source packages: partman-partitioning
    47ubuntu3.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 21 Mar 2007 13:55:56 +0000

ubiquity (1.4.2) feisty; urgency=low

  [ Evan Dandrea ]
  * Update templates for migration-assistant.
  * Only seed migration-assistant in usersetup.py if there are partitions
    selected to import from. (LP: #93270)

  [ Colin Watson ]
  * KDE frontend:
    - Fix backup from autopartitioning step (LP: #92533).
    - Activate create/edit partition dialog when double-clicking a row in
      the partition list.
    - Fix backup from user/password page.
    - Add buttons to the partition list to make it more obvious what to do.
  * Automatic update of included source packages: console-setup 1.13ubuntu9,
    partman-auto 62ubuntu7, partman-partitioning 47ubuntu2.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 19 Mar 2007 20:39:46 +0000

ubiquity (1.4.1) feisty; urgency=low

  * Make the timezone database a singleton, saving about 2MB of memory.
  * Avoid storing temporary variables as members of the (long-lived)
    SystemTzInfo class.
  * Fix broken call to kboot-installer.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 15 Mar 2007 16:58:29 +0000

ubiquity (1.4.0) feisty; urgency=low

  [ Colin Watson ]
  * Use just one progress message for all target-config hooks, to avoid
    uglinesses like "Running 32gnome_power_manager".
  * KDE frontend: In the partition create dialog, set the maximum partition
    size before setting the value to avoid the value being incorrectly
    clipped.
  * Disable the intro message for beta.
  * Add kboot-installer integration for powerpc/ps3. Explicitly detect the
    subarchitecture and select which boot loader to install based on it.
  * Automatic update of included source packages: grub-installer
    1.20ubuntu3, migration-assistant 0.4.2, partman-base 105ubuntu1,
    partman-partitioning 47ubuntu1, user-setup 1.8ubuntu2, yaboot-installer
    1.1.8ubuntu2.

  [ Evan Dandrea ]
  * When m-a is disabled, don't try to run its apply script. (LP: 89821)
  * If migration-assistant cannot unmount a partition, prompt the user
    to do it manually. (LP: 89605)
  * Added another descriptive label to the Migrate page.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 15 Mar 2007 03:41:04 +0000

ubiquity (1.3.27) feisty; urgency=low

  * Add a 'debian/rules update-local' target to allow updating d-i/source/
    without updating debian/changelog, which is sometimes convenient for
    local hacking.
  * New partitioner: Add validation for system partitions being formatted
    (LP: #89461).
  * Really use MyKeyboardNames.pl (based on xkb-data) rather than
    KeyboardNames.pl.
  * Automatic update of included source packages: console-setup 1.13ubuntu8.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 12 Mar 2007 12:15:39 +0000

ubiquity (1.3.26) feisty; urgency=low

  * Make acquire_lock properly atomic (LP: #90391).
  * New partitioner: Remove the disk bar placeholder in UIs; we'll probably
    have to do without the disk bar for Feisty at this point.
  * KDE frontend: Fix disk selection handling in automatic partitioner so
    that we stop always selecting the last disk no matter what (LP: #83010).
  * Reluctantly print error messages from main program to stdout rather than
    stderr, as gksudo swallows them otherwise.
  * Drop dependencies on gparted and qtparted. Instead, print a helpful
    error message if --old-partitioner is used but these programs are not
    installed.
  * Automatic update of included source packages: partconf 1.19build1.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  8 Mar 2007 12:32:38 +0000

ubiquity (1.3.25) feisty; urgency=low

  [ Evan Dandrea ]
  * Handle spaces in usernames in migration-assistant. (LP: #89009)
  * Fixed list movement bugs on the Migration page.  Also, selecting an
    item now selects the user as well.  (LP: #89414)
  * The Migration page now auto-fills the username box, matching the
    behavior on the User Setup page. (LP: #89522)
  * Stopped the username auto fill on User Setup from clobbering the m-a
    username.

  [ Colin Watson ]
  * GTK frontend:
    - Don't reset partition_edit_mount_combo's cell renderer; doing so
      causes GTK warnings.
    - Add more space around text in question dialogs.
  * New partitioner: Allow changing the mount point for NTFS (LP: #90276).
  * Automatically unmount mounted partitions if they are on a changed
    partition table or they are to be mounted somewhere other than /media/*.
    Display an error and allow the user to try to unmount them manually if
    automatic unmounting fails (LP: #89605).
  * Work around datetime misbehaviour if the system clock is set before the
    Unix epoch (LP: #57952).
  * Add XS-Vcs-Bzr field to debian/control.
  * Automatic update of included source packages: console-setup 1.13ubuntu7,
    localechooser 1.37ubuntu1, migration-assistant 0.4.1, partman-auto
    62ubuntu6, partman-base 100ubuntu7, partman-efi 11ubuntu3.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed,  7 Mar 2007 15:21:48 +0000

ubiquity (1.3.24) feisty; urgency=low

  * KDE Frontend:
    - Fix type problems in partition edit dialogue

 -- Jonathan Riddell <jriddell@ubuntu.com>  Thu,  1 Mar 2007 17:41:47 +0000

ubiquity (1.3.23) feisty; urgency=low

  * Enable migration-assistant by default. Replace --migration-assistant
    option with --no-migration-assistant.
  * Add a console-setup-apply script rather than hacking console-setup's
    post-base-installer script (which is being renamed and changed in ways
    that aren't appropriate for ubiquity).
  * Make sure we never try to remove the kernel package corresponding to the
    running kernel (LP: #86427).
  * Automatic update of included source packages: base-installer
    1.70ubuntu5, hw-detect 1.45ubuntu2, partman-base 100ubuntu5.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 28 Feb 2007 14:16:58 +0000

ubiquity (1.3.22) feisty; urgency=low

  [ Colin Watson ]
  * New partitioner:
    - Fix edit dialog not to try to resize partitions even if the resize
      spinbutton was left untouched (LP: #85227).
    - Add contextual buttons to GTK frontend (part of LP: #83166).
    - Add an undo facility.
    - partman-* updates add validation support (LP: #82768); also add
      XFS-on-/boot validation.
    - Break out of setting the mountpoint if it's invalid (LP: #84543).
  * Fix crash if multiple newworld boot partitions are present (LP: #84429).
  * GTK frontend:
    - Fix backup from user information page if migration-assistant is not
      active (LP: #85642).
    - Fix up step numbers if migration-assistant is disabled (LP: #85711).
    - Disable smooth zooming, as some video drivers are very slow at drawing
      this and it's hard to handle this dynamically (LP: #67572).
  * Fill in a default username based on the user's full name (LP: #84550).
  * Retranslate Forward button when going back from summary page
    (LP: #86047).
  * configure.ac: Bump required GTK version to 2.10.0 (for GtkLinkButton).
  * Automatic update of included source packages: apt-setup 1:0.16ubuntu4,
    base-installer 1.70ubuntu4, choose-mirror 2.10ubuntu2, clock-setup
    0.12ubuntu2, debian-installer-utils 1.42ubuntu2, migration-assistant
    0.4, partman-auto 62ubuntu5, partman-base 100ubuntu4,
    partman-basicfilesystems 51ubuntu2, partman-basicmethods 33ubuntu2,
    partman-efi 11ubuntu2, partman-ext3 45ubuntu2, partman-jfs 20ubuntu2,
    partman-newworld 16ubuntu1, partman-reiserfs 34ubuntu1, partman-target
    46ubuntu2, partman-xfs 32ubuntu1.

  [ Jonathan Riddell ]
  * Add new partitioner for KDE frontend

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 22 Feb 2007 09:59:44 +0000

ubiquity (1.3.21) feisty; urgency=low

  * New partitioner:
    - Try harder not to interfere with autopartitioning (LP: #84597).
    - Ignore parted exceptions presented with priority medium or below.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 14 Feb 2007 13:08:09 +0000

ubiquity (1.3.20) feisty; urgency=low

  [ Colin Watson ]
  * KDE frontend: Remove now-unused kde-distro-logo.png.

  [ Martin Pitt ]
  * debian/ubiquity.install-any: Move apport package hook to
    /usr/share/apport/package-hooks/; this is where apport looks for them
    from 0.52 onwards.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri,  9 Feb 2007 18:44:53 +0000

ubiquity (1.3.19) feisty; urgency=low

  [ Colin Watson ]
  * New partitioner: Don't allow creating a disk label or creating, editing,
    or deleting a partition while other similar operations are in progress.
  * Display a warning message next to the password entry box if running in
    debug mode, since the password will then end up in the log file via
    debconf debugging.
  * Don't crash if /etc/X11/xorg.conf is unaccountably missing (LP: #83927).
  * Import translations for Cancel, Back, Forward etc. buttons from gtk+2.0
    2.10.9-0ubuntu1 (LP: #43915).
  * Automatic update of included source packages: apt-setup 1:0.16ubuntu3,
    migration-assistant 0.3.1, partman-auto 62ubuntu4,
    partman-basicfilesystems 51ubuntu1.

  [ Evan Dandrea ]
  * Merged in migration-assistant work. Moved the user-setup page to after
    migration-assistant (and thus also after the partitioner, since
    migration-assistant needs to know which partitions are to be left
    intact). Made user-setup able to make use of users from
    migration-assistant.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  8 Feb 2007 19:55:37 +0000

ubiquity (1.3.18) feisty; urgency=low

  * New partitioner:
    - Disable the mountpoint combo box when creating or editing a partition
      if the method is changed to something other than a filesystem.
    - Handle partman/exception_handler and partman/exception_handler_note
      (LP: #82848).
    - Note that unadorned sizes are assumed to be in megabytes (LP: #82848).
    - Display current partition sizes in megabytes (part of LP: #83166).
    - Implement resizing. Ask for the size using a spinbutton (in megabytes)
      rather than a text entry field.
    - Offer 'fat16' and 'fat32' filesystem types for new partitions rather
      than the non-existent 'fat' (LP: #83211).
    - Fix crash when backing up to automatic partitioning page (LP: #83230).
  * doc/README: Add comment about language pack installation following a
    query from Telmo Baía.
  * Fix crash due to underqualification of debconf.DebconfError (thanks,
    Joel Bryan Juliano; LP: #83008).
  * Automatic update of included source packages: partman-partitioning
    45ubuntu1.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon,  5 Feb 2007 13:17:27 +0000

ubiquity (1.3.17) feisty; urgency=low

  * Fix build failure due to console-setup fix.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  1 Feb 2007 08:29:23 +0000

ubiquity (1.3.16) feisty; urgency=low

  * New partitioner: Fix a crash if the edit dialog is OKed with neither
    method nor mountpoint changed.
  * GTK frontend: Fix re-raising of exceptions to (a) work and (b) interact
    properly with apport's Python hook.
  * Quick hack to avoid updating the initramfs when calling
    console-setup.postinst from within ubiquity.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  1 Feb 2007 00:17:10 +0000

ubiquity (1.3.15) feisty; urgency=low

  * Add --old-partitioner command-line option to force the use of the old
    advanced partitioner even when it stops being the default. (Of course,
    this won't work for ever, as the old code will eventually be removed.)
  * GTK frontend: Disable gnome-volume-manager automounting for the entire
    duration of installation (LP: #78862).
  * Really install the apport hook.
  * Switch the new partitioner on by default. As above, use 'ubiquity
    --old-partitioner' to disable it.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 30 Jan 2007 14:10:11 +0000

ubiquity (1.3.14) feisty; urgency=low

  * Use partman-efi on i386.
  * Ship an apport hook instead of calling apport directly from the GTK
    frontend.
  * New partitioner: Skip telling partman to edit method or mountpoint if
    either is left unchanged in the edit dialog.
  * Copy value of popularity-contest/participate into /target (LP: #78972).
  * Automatic update of included source packages: console-setup 1.13ubuntu6,
    partman-auto 62ubuntu3.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 29 Jan 2007 15:05:01 +0000

ubiquity (1.3.13) feisty; urgency=low

  * Automatic update of included source packages: base-installer
    1.70ubuntu2, console-setup 1.13ubuntu5, grub-installer 1.20ubuntu2,
    partman-base 100ubuntu3, partman-efi 11ubuntu1, silo-installer
    1.07ubuntu3.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 19 Jan 2007 11:56:06 +0000

ubiquity (1.3.12) feisty; urgency=low

  [ Colin Watson ]
  * KDE frontend: Fix crash going back from advanced partitioner (mentioned
    in Malone #78881).
  * Fix crash caused by incorrectly traversing into partman-auto's "Guided -
    use the largest continuous free space" option if present (LP: #76976).

  [ Brian Murray ]
  * Fix incorrect release date in intro message (LP: #78941).

 -- Colin Watson <cjwatson@ubuntu.com>  Sun, 14 Jan 2007 02:08:57 +0000

ubiquity (1.3.11) feisty; urgency=low

  * New partitioner: Fix crash while setting up partition edit dialog.
  * New partitioner: Indent partition names two spaces to the right of disk
    names.
  * GTK frontend: Drop privileges while invoking gconftool-2, and point it
    at the correct user's gconf directory; this fixes incorrect automounting
    during partitioning.
  * Fix language pack installation to clean up any broken packages in the
    dependency cache more comprehensively (LP: #61912 and probably a slew of
    duplicates).
  * GTK frontend: Fix various obscure crashes with non-ASCII
    autopartitioning choices (LP: #78778).
  * Automatic update of included source packages: partman-base 100ubuntu2.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 11 Jan 2007 14:50:50 +0000

ubiquity (1.3.10) feisty; urgency=low

  * GTK frontend: Fix another crash while setting up the resize progress bar
    (LP: #77978).

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 10 Jan 2007 10:47:40 +0000

ubiquity (1.3.9) feisty; urgency=low

  [ Colin Watson ]
  * Document live filesystem manifests and installation from media other
    than CDs/DVDs in doc/README.
  * Extend backporting FAQ in doc/README to cover issues with backporting
    from feisty.
  * Automatic update of included source packages: silo-installer
    1.07ubuntu2.
  * Track silo-installer 1.07ubuntu2 changes (install device2obp, tweak
    PATH).

  [ Jonathan Riddell ]
  * KDE frontend: Fix crash if release_notes_url_template is None.
  * KDE frontend: Fix crash when editing GRUB device name.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue,  9 Jan 2007 17:56:20 +0000

ubiquity (1.3.8) feisty; urgency=low

  * Depend on python-gtk2 (>= 2.10) for gtk.LinkButton.
  * Move GRUB configuration to a new Advanced... dialog, getting rid of the
    poor UI on the summary page (LP: #63073).
  * Add a popularity-contest participation checkbox to the advanced dialog
    (LP: #55637).
  * Reset hostname_edited (so that it will be automatically generated again)
    if the hostname entry box is emptied.
  * Automatic update of included source packages: console-setup 1.13ubuntu4.
  * Track console-setup 1.13ubuntu4 changes by generating and using
    MyKeyboardNames.pl based on xkb-data, which is more up to date than
    KeyboardNames.pl.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri,  5 Jan 2007 17:55:56 +0000

ubiquity (1.3.7) feisty; urgency=low

  [ Colin Watson ]
  * Remove "Set Time..." button, which is far more trouble than it's worth
    (LP: #49412, #52716, #52717, #73907, #76564). You can adjust the time
    after installation.
  * Fix a silly typo while setting up the resize progress bar (LP: #77523).
  * Don't say "beta version" in the alpha intro message.
  * Move language list box to the left-hand side of its page rather than the
    bottom, on the basis that you have to choose a language before you can
    read the text.
  * Switch to glade-3 (those with branches that modify ubiquity.glade, take
    note).
  * Add special cases to restore correct handling of Chinese and Portuguese
    language codes.
  * If /cdrom/.disk/release_notes_url is present, display a link to the
    release notes on the language page. See doc/README for the format
    (https://blueprints.launchpad.net/ubuntu/+spec/ubiquity-release-notes).
  * Remove no-longer-canonical /distros from Launchpad URLs.
  * Sync up hostname handling with netcfg; it now allows hostnames between 2
    and 63 characters in length, forbids them starting or ending with a
    hyphen, and interprets hostnames containing dots as hostname.domain and
    adjusts /etc/hosts accordingly (LP: #52501, #72909).

  [ Jonathan Riddell ]
  * Port KDE frontend to Qt 4

 -- Colin Watson <cjwatson@ubuntu.com>  Wed,  3 Jan 2007 13:59:25 +0000

ubiquity (1.3.6) feisty; urgency=low

  * Avoid use of super() in components, since it's far too confusing.
  * I managed to create two different PartmanAuto.error() methods by
    mistake. Merge them.
  * GTK frontend: If a question asked by a component doesn't have a message
    for the dialog body, set it to the title as that's better than nothing.
  * GTK frontend: First cut at the new advanced partitioner. The graphical
    disk view isn't implemented yet, many features are missing, validation
    probably doesn't work properly, and it's very slow, but I hope all these
    issues can be worked out in time. Use 'ubiquity --new-partitioner' to
    try it out.
  * Automatic update of included source packages: debian-installer-utils
    1.42ubuntu1, grub-installer 1.20ubuntu1, hw-detect 1.45ubuntu1,
    partman-basicfilesystems 50ubuntu1, partman-ext3 44, partman-jfs 19,
    partman-reiserfs 33, partman-xfs 31, user-setup 1.8ubuntu1.

 -- Colin Watson <cjwatson@ubuntu.com>  Sun, 24 Dec 2006 19:42:52 +0000

ubiquity (1.3.5) feisty; urgency=low

  [ Colin Watson ]
  * Move the ubiquity executable proper into /usr/lib/ubiquity/bin, and add
    a /usr/bin/ubiquity wrapper that calls gksudo, kdesu, etc. as
    appropriate. This makes argument handling more straightforward and
    reduces the need for strange environment variables.
  * Add command-line option handling: --debug is equivalent to the old
    UBIQUITY_DEBUG environment variable, while --cdebconf is new (and
    experimental). Combined with the above change, this means that the
    clumsy and frontend-dependent 'gksudo env UBIQUITY_DEBUG=1 ubiquity' or
    'kdesu --nonewdcop env UBIQUITY_DEBUG=1 ubiquity' invocations can be
    replaced with just 'ubiquity --debug'.
  * Automatic update of included source packages: choose-mirror 2.10ubuntu1.

  [ Martin Pitt ]
  * GTK frontend: Port the apport crash handler to new API of apport 0.33
    (apport_utils/problem_report modules -> apport python package). Depend
    on python-apport now instead of the old modules.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 19 Dec 2006 14:09:53 +0000

ubiquity (1.3.4) feisty; urgency=low

  * apt-install only attempts to install packages not already installed,
    making it more robust when packages on the target filesystem are broken
    (LP: #74241).
  * KDE frontend: Don't infinite-loop on EOF from qtparted (LP: #67565).
  * Make sure localechooser doesn't clobber the selected country if it
    differs from the default (LP: #68026).
  * Add a check-manifest tool to ensure that d-i/manifest is in sync with
    d-i/source/ on upload.
  * Upgrade to automake 1.10.
  * Configure and build the desktop, pixmaps, and po subdirectories even if
    UBIQUITY_NO_GTK is set.
  * Automatic update of included source packages: apt-setup 1:0.16ubuntu2,
    base-installer 1.70ubuntu1, localechooser 1.33ubuntu1, partman-auto
    62ubuntu2, partman-base 100ubuntu1.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 15 Dec 2006 17:52:53 +0000

ubiquity (1.3.3) feisty; urgency=low

  [ Colin Watson ]
  * GTK frontend: Move intro label widget from code to glade.
  * GTK frontend: Work around disappearing input focus on intro page.
  * GTK frontend: Activate Forward button when a row in the language or
    keyboard treeviews is activated.
  * Remove use of dh_python, since it's a no-op now. Bump debhelper
    build-dependency to 5.0.37.3ubuntu2 (a.k.a. dh_python from 5.0.38) for
    this.
  * KDE frontend: Remove tabstop for new_size_scale from .ui file, since
    that widget doesn't exist there any more.
  * KDE frontend: Fix logo image widgets to take account of removed disk
    page.
  * KDE frontend: Fix various crashes in set_autopartition_choices due to
    botched use of Qt.
  * KDE frontend: Fix backup from summary page.

  [ Jonathan Riddell ]
  * KDE frontend: Make QRadioButton less confused on the autopartitioning
    page, using an extra frame.

 -- Colin Watson <cjwatson@ubuntu.com>  Sat,  9 Dec 2006 11:28:57 +0000

ubiquity (1.3.2) feisty; urgency=low

  * Update to new partman-auto, merging the "Select a disk" page into
    "Prepare disk space".
  * Automatic update of included source packages: debian-installer-utils
    1.41ubuntu1, partman-auto 60ubuntu2, partman-base 97ubuntu2,
    partman-basicfilesystems 49ubuntu1, partman-basicmethods 32, partman-efi
    11, partman-ext3 43, partman-jfs 18, partman-newworld 15,
    partman-partitioning 44ubuntu1, partman-reiserfs 32, partman-target
    46ubuntu1, partman-xfs 30.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  7 Dec 2006 00:02:42 +0000

ubiquity (1.3.1) feisty; urgency=low

  * Strip out unnecessary parts from console-setup source (accidental due to
    semi-manual update).
  * Depend on a version of console-setup at least as new as the one in our
    source tree.
  * Work around a crash in broken_packages() due to inadequate python-apt
    Python protocol support.
  * Fix crash if auto_mountpoints somehow ends up still set to None while
    validating partitions (LP: #71046).
  * Fix infinite loop while creating initial-status log.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri,  1 Dec 2006 11:03:11 +0000

ubiquity (1.3.0) feisty; urgency=low

  * Defend a bit more against the apt cache going insane (closes: Malone
    #67689).
  * Handle EFAULT IOError exceptions while copying files (closes: Malone
    #67598).
  * KDE frontend: Treat more user-entered strings as Unicode rather than
    ASCII (closes: Malone #64667, #66742).
  * KDE frontend: Hide auto-resize frame rather than merely disabling it.
  * KDE frontend: Use a single progress bar for all copy and configuration
    steps.
  * KDE frontend: Disable going back or forward once the install progress
    bar is up. (Why is the main window still visible at this point, anyway?)
  * Fix mount point validation to avoid accidentally skipping a number of
    checks on pre-existing partitions, including the "is there a root file
    system?" check (closes: Malone #67130).
  * GTK frontend: Include zoom-in.png in ubiquity-frontend-gtk so that the
    magnifying glass cursor is displayed on the timezone page (closes:
    Malone #68238).
  * Drop support for old ESPRESSO_DEBUG environment variable.
  * Add an intro message noting that we're alpha again.
  * Save /target/var/lib/dpkg/status to
    /target/var/log/installer/initial-status.gz; suggested by Jason
    Whitlark.
  * Remove a bunch of unnecessary imports noticed by pyflakes, and add a
    couple of missing ones.
  * Account for a new file shipped by grub-installer.
  * Account for tzsetup's finish-install script becoming a
    post-base-installer script.
  * Fix the way we switch pages to update state properly if "switching" to
    the current page.
  * Automatic update of included source packages: apt-setup 1:0.16ubuntu1,
    base-installer 1.68ubuntu1, choose-mirror 2.08ubuntu1, clock-setup
    0.12ubuntu1, console-setup 1.13ubuntu3, debian-installer-utils
    1.38ubuntu1, grub-installer 1.19ubuntu1, hw-detect 1.43ubuntu1,
    localechooser 1.30ubuntu1, partconf 1.19, silo-installer 1.07ubuntu1,
    tzsetup 1:0.14, user-setup 1.7ubuntu1, yaboot-installer 1.1.8ubuntu1.
    (partman-* will be updated next time round, when we're ready for it.)

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 29 Nov 2006 20:33:42 +0000

ubiquity (1.2.5) edgy; urgency=low

  * Automatic update of included source packages: apt-setup 1:0.11ubuntu5,
    console-setup 1.7ubuntu19, partman-base 90ubuntu9, yaboot-installer
    1.1.7ubuntu2.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 20 Oct 2006 23:45:10 +0100

ubiquity (1.2.4) edgy; urgency=low

  * Use update-initramfs -c -k "$(uname -r)" rather than update-initramfs
    -u, as the latter gets very confused if we need to remove kernels, as on
    powerpc (really closes: Malone #66406).
  * Automatic update of included source packages: localechooser 1.20ubuntu8.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 17 Oct 2006 13:14:41 +0100

ubiquity (1.2.3) edgy; urgency=low

  [ Colin Watson ]
  * Fix incorrect loop variable reuse in do_remove, and attempt multiple
    broken package resolution passes while removing packages (closes: Malone
    #66406).
  * Detect existing HFS bootstrap partitions during automatic partitioning
    and take account of them while validating mountpoints (closes: Malone
    #66384).
  * Fix crash on keyboard page if you select a layout with no variants.
  * Remove kernels before running update-initramfs so that we update the
    correct initramfs on powerpc. Make sure to fix up kernel/initrd symlinks
    after running update-initramfs, so that we have something to which to
    point the initrd symlink.

  [ Michael Vogt ]
  * Run fontconfig-voodoo to tweak fontconfig configuration for the selected
    language (closes: Malone #49334).

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 16 Oct 2006 23:49:28 +0100

ubiquity (1.2.2) edgy; urgency=low

  * Make sure supplied GRUB device names are either GRUB-style (e.g.
    "(hd0)") or start with "/dev/" (closes: Malone #62479).
  * Exclude Dzongkha and Khmer from the language list for now, as we don't
    ship fonts for them and we don't have enough installer translations yet
    to make it worth rushing those fonts in for Edgy.
  * GTK frontend: Weaken assertion in set_summary_device and make this
    generally more robust (closes: Malone #66100).

 -- Colin Watson <cjwatson@ubuntu.com>  Sun, 15 Oct 2006 23:41:55 +0100

ubiquity (1.2.1) edgy; urgency=low

  * Back out orca change from 1.2.0: it doesn't work properly because the
    orca process running as the calling user needs to be killed first. At
    this stage, we feel that it's better to document the workaround than to
    try to fix it.
  * KDE frontend: Enable the forward button at the right times on the
    timezone page (closes: Malone #66022).

 -- Colin Watson <cjwatson@ubuntu.com>  Sat, 14 Oct 2006 00:07:48 +0100

ubiquity (1.2.0) edgy; urgency=low

  * If /proc/cmdline contains access=v3, run 'orca -n' and sleep for a bit
    before starting the installer UI.

  * Update .desktop file translations from Rosetta: Georgian.
  * Update translations from Rosetta: Bengali, Czech, German, Greek,
    Spanish, Finnish, French, Galician, Hindi, Croatian, Hungarian, Italian,
    Georgian, Kazakh, Kurdish, Dutch, Polish, Portuguese, Portuguese
    (Brazil), Russian, Slovak, Swedish, Turkish, Chinese (China).
  * Automatic update of included source packages: base-installer
    1.63ubuntu6, choose-mirror 2.04ubuntu2, console-setup 1.7ubuntu18,
    partman-base 90ubuntu8.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 12 Oct 2006 11:40:02 +0100

ubiquity (1.1.30) edgy; urgency=low

  * Add /usr/lib/ubiquity/console-setup/locale wrapper that overrides the
    output of locale with the value of debian-installer/locale if set; this
    encourages console-setup to select an appropriate keyboard layout
    (closes: Malone #60067).
  * Don't set PARTMAN_UPDATE_BEFORE_COMMIT for automatic partitioning.
  * Run partman-commit while generating the installation summary to make
    sure that we have a partitioning summary even for manual partitioning
    (closes: Malone #61572). Take care to stop partman-commit proceeding
    past the confirmation question.
  * Don't reset the locale or run localechooser again if the country
    selected on the timezone page isn't one for which we have a locale in
    the current language (closes: Malone #61387).

  * Add/update .desktop file translations from Rosetta: Arabic, Belarusian,
    Czech, Kashubian, Spanish, Estonian, French, Frisian, Irish,
    Luxembourgish, Lithuanian, Macedonian, Malay, Portuguese (Brazil),
    Slovak, Swedish, Tajik, Ukrainian, Chinese (Taiwan).
  * Add/update translations from Rosetta: Afrikaans, Amharic, Bulgarian,
    Bengali, Breton, Catalan, Czech, Kashubian, Welsh, Danish, German,
    Divehi, Dzongkha, Greek, Esperanto, Spanish, Basque, Persian, Finnish,
    French, Irish, Galician, Hebrew, Hindi, Croatian, Hungarian, Indonesian,
    Icelandic, Italian, Japanese, Georgian, Khmer, Kurdish, Kirghiz,
    Lithuanian, Latvian, Malagasy, Macedonian, Malay, Norwegian Bokmål,
    Dutch, Occitan, Polish, Portuguese, Portuguese (Brazil), Romanian,
    Russian, Northern Sami, Slovak, Slovenian, Serbian, Swedish, Tamil,
    Thai, Tagalog, Turkish, Chinese (China), Chinese (Hong Kong).
  * Automatic update of included source packages: base-installer
    1.63ubuntu5, localechooser 1.20ubuntu7, partman-base 90ubuntu6.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon,  9 Oct 2006 21:15:10 +0100

ubiquity (1.1.29) edgy; urgency=low

  * Move drop_privileges helper function into ubiquity.misc.
  * KDE frontend: Use kdesu --nonewdcop to ensure that we can talk to the
    user's DCOP server.
  * KDE frontend: Reboot the machine properly using ksmserver (closes:
    Malone #41784).
  * KDE frontend: Unload the kded medianotifier while committing
    partitioning changes (closes: Malone #48051).
  * KDE frontend: Convert to allow_change_step/allow_go_forward system from
    GTK frontend so that the back and next buttons are more consistently
    enabled/disabled. Hide the back button on the first page.
  * Forbid going back or forward when the UI is already processing a
    previous back or forward action (closes: Malone #54163 and lots of
    duplicates).
  * GTK frontend: Disable back and forward buttons while gparted is starting
    up. Requires gparted (>= 0.2.5-1.1ubuntu11).
  * GTK frontend: Avoid calling gtk.main_quit if a main loop isn't running,
    as further insurance against Malone #54163.
  * Fix various bugs when mounting source filesystems natively rather than
    relying on casper to have mounted them already (closes: Malone #64348).
  * Automatic update of included source packages: debian-installer-utils
    1.36ubuntu2.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri,  6 Oct 2006 21:32:43 +0100

ubiquity (1.1.28) edgy; urgency=low

  * KDE frontend: Ensure that the selected language is visible.
  * KDE frontend: Add a keyboard variant selector.
  * Incorporate user-setup reserved usernames fix (closes: Malone #47861).
  * Catch ENOENT, EIO, ENOTDIR, and EROFS while copying files, try to figure
    out what filename they relate to, and display a useful error message
    explaining that this is probably a CD or hard disk fault (as
    appropriate) and how to deal with this. Closes about a million bugs.
  * Display extended descriptions as well in debconf error dialogs.
  * Remove stub hppa support for now, since partman-palo is no longer in
    main.
  * Automatic update of included source packages: console-setup 1.7ubuntu16,
    debian-installer-utils 1.36ubuntu1, user-setup 1.2ubuntu4.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  5 Oct 2006 09:32:18 +0100

ubiquity (1.1.27) edgy; urgency=low

  * Fix syntax error in /usr/bin/ubiquity. Whoops!

 -- Colin Watson <cjwatson@ubuntu.com>  Tue,  3 Oct 2006 23:50:05 +0100

ubiquity (1.1.26) edgy; urgency=low

  [ Colin Watson ]
  * Build-depend on po-debconf (>= 1.0) for new translation-handling
    features.
  * Add a FAQ about backporting to doc/README.
  * Document ubiquity/install/filesystem-images in doc/README.
  * autogen.sh: Force use of automake-1.8 and aclocal-1.8.
  * Move auxiliary autotools files to a build subdirectory.
  * Add a check to debian/rules to remind me to bump the version number in
    configure.ac.
  * Read partition flags from gparted (>= 0.2.5-1.1ubuntu9). Display an
    error on the mountpoints page if running on powerpc and there is no HFS
    partition with the boot flag set. Treat HFS partitions with the boot
    flag set as NewWorld bootstrap partitions (closes: Malone #43768).
  * GTK frontend: Add a keyboard variant selector (closes: Malone #61729).
    (The same needs to be done for the KDE frontend.)
  * Remove old kbd-chooser component, which won't be usable any more.
  * Send stderr to /var/log/installer/debug if UBIQUITY_DEBUG is set.
  * Send DEBCONF_DEBUG=filter output to stderr, not syslog; it should be
    interleaved with DEBCONF_DEBUG=developer output.
  * GTK frontend: Throw away stderr from gnome-screensaver-command; it
    outputs far too much rubbish and confuses users.
  * KDE frontend: Fix reboot dialog button handling (closes: Malone #62765).
  * Replace the rather jittery time-remaining message while copying files
    with a message that appears when there's less than a minute remaining
    (closes: Malone #61514).

  [ Jonathan Riddell ]
  * KDE Frontend:
   - Add ensureItemVisible in set_keyboard (closes: Malone #61710).

 -- Colin Watson <cjwatson@ubuntu.com>  Tue,  3 Oct 2006 17:04:38 +0100

ubiquity (1.1.25) edgy; urgency=high

  * Not knowing the filesystem type for a partition apparently doesn't
    necessarily mean that it's unformatted, so don't format partitions
    without a detected filesystem type (closes: Malone #61732).

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 27 Sep 2006 16:51:57 +0100

ubiquity (1.1.24) edgy; urgency=low

  * Mark console-setup/layout and console-setup/variant as unseen before
    starting console-setup, to avoid incorrect variant choices (although I
    think there's also a console-setup bug here in that the variants are
    being substituted in the wrong order).
  * Depend on a version of console-setup without the misguided
    /etc/X11/xorg.conf handling.
  * Automatic update of included source packages: partman-target 45ubuntu3.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 26 Sep 2006 23:29:53 +0100

ubiquity (1.1.23) edgy; urgency=low

  * Move /etc/default/console-setup aside before running the keyboard
    configuration page, to avoid console-setup thinking that it's already
    configured and behaving differently.
  * Automatic update of included source packages: console-setup 1.7ubuntu12,
    partman-basicfilesystems 47ubuntu3, partman-target 45ubuntu2.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 25 Sep 2006 13:11:27 +0100

ubiquity (1.1.22) edgy; urgency=low

  [ Jonathan Riddell ]
  * KDE Frontend:
    - Make the mountpoints page use a scroll view

  [ Colin Watson ]
  * GTK frontend: Make the debconf progress title and info labels ellipsise
    rather than stretching the window if they get too long (closes: Malone
    #61516).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 22 Sep 2006 10:28:34 +0100

ubiquity (1.1.21) edgy; urgency=low

  * Handle partman-partitioning/impossible_resize errors while trying to set
    up the auto-resize slider; we now back up and disable the auto-resize
    option (closes: Malone #58500).
  * Automatic update of included source packages: partman-auto 54ubuntu4.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 21 Sep 2006 11:37:02 +0100

ubiquity (1.1.20) edgy; urgency=low

  * Only return 30 in reply to a PROGRESS command if the progresscancel
    capability is set (closes: Malone #48005).
  * Don't crash if a progress bar is set up to have the same start and end
    points (closes: Malone #56789).
  * Fix timezone component to deal with frontend.get_timezone returning None
    (closes: Malone #42865).
  * Use more sensible default cities for languages with country shortlists
    (i.e. the intended default rather than the first in alphabetical order
    of country code), working around a missing feature in debconf.
  * Pick a sensible default city for countries with multiple zones but no
    explicit default city (closes: Malone #43914).
  * Remove obsolete Recommends: gparted from ubiquity; ubiquity-frontend-gtk
    already depends on it.
  * Feed not-yet-formatted partition state back into gparted when starting
    it up, so that newly-created partitions aren't listed as "unknown" when
    you go back (requires gparted 0.2.5-1.1ubuntu8; closes: Malone #40404).
  * Fix use of gobject.spawn_async in
    gnome-screensaver-command/xscreensaver-command, broken in 1.1.19.
  * Make sure that "Restart now" is the default option on the final dialog
    (closes: Malone #61517).
  * Log warnings in various cases when partitions are ignored on the
    mountpoints page.
  * GTK frontend: For some reason GtkTable doesn't seem to queue a resize
    itself when you attach children to it, so the mountpoints table was
    showing up blank the first time through. Worked around this.
  * Add/update translations from Rosetta: Arabic, Belarusian, Bulgarian,
    Breton, Danish, German, Greek, Spanish, Basque, Finnish, French, Hindi,
    Hungarian, Icelandic, Italian, Georgian, Korean, Kurdish, Latvian,
    Nepali, Norwegian Nynorsk, Occitan, Portuguese (Brazil), Russian,
    Serbian, Tagalog.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 21 Sep 2006 02:44:03 +0100

ubiquity (1.1.19) edgy; urgency=low

  * Reconfigure usplash (closes: Malone #59320).
  * Divert away update-initramfs while configuring hardware-specific
    packages, and run it just once at the end.
  * Display a warning if you try to mount a FAT or NTFS filesystem where
    POSIX semantics are required (closes: Malone #48410).
  * GTK frontend: Scroll the mount points table if required (closes: Malone
    #51796).
  * Ignore failures from os.utime on directories. I don't know why I get a
    disproportionate number of reports of this failing, but to be honest I
    don't care enough about directory timestamps to investigate.
  * Add trivial pid file locking, allowing ubiquity to exit gracefully if
    you try to run more than one instance of it at once; previously it blew
    up much more spectacularly upon finding that the debconf database was
    locked (closes: Malone #46569).
  * Run gnome-screensaver-command/xscreensaver-command with LC_ALL=C to
    reduce noise on stderr.
  * Automatic update of included source packages: console-setup 1.7ubuntu9,
    partman-auto 54ubuntu3, partman-basicfilesystems 47ubuntu2.

 -- Colin Watson <cjwatson@ubuntu.com>  Sat, 16 Sep 2006 00:45:27 +0100

ubiquity (1.1.18) edgy; urgency=low

  [ Jonathan Riddell ]
  * KDE frontend: Enable buttons on summary page when performing automatic
    partitioning too.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 14 Sep 2006 13:09:33 +0100

ubiquity (1.1.17) edgy; urgency=low

  [ Jonathan Riddell ]
  * KDE Frontend
    - Enable buttons on summary page
    - Don't accept a blank string for the grub device
    - Use correct strings for grub dialogue box

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 13 Sep 2006 14:01:52 +0100

ubiquity (1.1.16) edgy; urgency=low

  [ Colin Watson ]
  * Reconfigure popularity-contest.
  * KDE frontend: Fix crash when moving off the mountpoints page (closes:
    Malone #60045).
  * Automatic update of included source packages: base-installer
    1.63ubuntu4, console-setup 1.7ubuntu8.

  [ Jonathan Riddell ]
  * KDE frontend: Put a link on the summary page to allow the user to
    install GRUB to somewhere other than the MBR of the first hard disk

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 12 Sep 2006 12:39:34 +0100

ubiquity (1.1.15) edgy; urgency=low

  * syslog.LOG_WARN -> syslog.LOG_WARNING (closes: Malone #59257).
  * Point console-setup.postinst at /var/lib/dpkg/info/console-setup.config
    directly, rather than trying to make a symlink to it and apparently
    failing (closes: Malone #59496).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri,  8 Sep 2006 12:43:35 +0100

ubiquity (1.1.14) edgy; urgency=low

  * Put some of console-setup/Keyboard back, as we need KeyboardNames.pl
    from there.
  * Don't include console-setup's build-dependencies in our own.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  7 Sep 2006 20:10:07 +0100

ubiquity (1.1.13) edgy; urgency=low

  * Rename configure.in to configure.ac.
  * Drop backward compatibility for base-config/language-packs preseeding
    from Breezy.
  * Move from kbd-chooser to console-setup
    (https://launchpad.net/distros/ubuntu/+spec/sane-installer-keyboard). We
    still need to add a UI element for the keyboard variant, and
    translations of layout and variant names are missing, but it mostly
    seems to work.
  * Strip Fonts and Keyboard directories from our copy of console-setup;
    they're very large, and not needed since we don't actually build
    console-setup, but just copy a few scripts from it.
  * Add a ubiquity/install/filesystem-images template, which can be
    preseeded to mount and copy a different filesystem image. If multiple
    space-separated images are given, then they will be overlaid using
    unionfs
    (https://launchpad.net/distros/ubuntu/+spec/live-cd-stacked-filesystems).
  * Unset DEBIAN_HAS_FRONTEND in apt-install to make sure that debconf-using
    packages start up a new noninteractive frontend.
  * Bump debhelper build-dependency to 5.0.37.2 and python-central to 0.5
    for new Python policy, per lintian.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  7 Sep 2006 19:43:46 +0100

ubiquity (1.1.12) edgy; urgency=low

  * Install apt-setup cdrom generator.
  * Send all log messages to syslog rather than stderr. Use log-output from
    di-utils for external processes where necessary.
  * Remove several obsolete functions from ubiquity.misc.
  * Fix misc.ex to use subprocess.call properly rather than smashing
    arguments together and invoking them via the shell.
  * Remove duplicate logging from Install.chrex.
  * Remove /var/log/installer/syslog from all error messages etc., as
    everything goes to /var/log/syslog now. /var/log/syslog is now copied to
    /var/log/installer/syslog on the target system.
  * Automatically set UBIQUITY_NO_GTK or UBIQUITY_NO_KDE to disable building
    frontends as appropriate if tools are missing (pygtk-codegen-2.0 for the
    GTK frontend, kdepyuic for the KDE frontend). This should never happen
    in normal builds, but saves typing when building test versions.
  * Teach DebconfFilter to send escaped replies when CAPB escape is set.
  * Fix substitution variable for full name in ubiquity/summary.
  * I never really understood the whole control flow around the summary
    page, and I wrote it! Take advantage of the partman-commit script added
    in partman-base 90ubuntu4, so that instead we shut down partman, run the
    summary page, and then start it back up to commit changes. The
    PartmanCommit component is now used for both automatic and manual
    partitioning, and is simply called directly from progress_loop; and the
    Summary component no longer needs to be run with a temporary debconf
    database.
  * Configure locales and the user account before running target-config
    hooks (closes: Malone #50319).
  * GTK frontend: Put a button on the summary page to allow the user to
    install GRUB to somewhere other than the MBR of the first hard disk
    (closes: Malone #41579).
  * Install list-devices, since a fair bit of backend code now uses it.
  * Automatic update of included source packages: debian-installer-utils
    1.35ubuntu2, partman-base 90ubuntu5, partman-target 45ubuntu1.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon,  4 Sep 2006 22:54:02 +0100

ubiquity (1.1.11) edgy; urgency=low

  * Automatic update of included source packages: apt-setup
    1:0.11ubuntu4.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 30 Aug 2006 13:35:52 +0100

ubiquity (1.1.10) edgy; urgency=low

  * GTK frontend: Add apport integration to crash handler. (Not done yet for
    KDE frontend, pending the existence of apport-kde.)
  * Remove abort_dialog cruft.
  * Rewrite doc/README to be reasonably up to date. Among other things, it
    now contains a brief explanation of the debconffilter framework.
  * Fix stringification of our derived exceptions (InstallStepError and
    PartedServerError).
  * Set mirror/suite and mirror/codename instead of the non-existent
    cdrom/suite and cdrom/codename in the apt-setup wrapper (closes: Malone
    #56725).
  * Automatic update of included source packages: hw-detect 1.41ubuntu2,
    kbd-chooser 1.30ubuntu1, partconf 1.17.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 30 Aug 2006 13:27:12 +0100

ubiquity (1.1.9) edgy; urgency=low

  * Use /bin/bash for user-setup due to a dash test(1) bug.
  * GTK frontend: Enable keyboard searching for the keyboard list (closes:
    Malone #56306).
  * Fix incorrect path to languagelist in language component (closes: Malone
    #56721).
  * Automatic update of included source packages: debian-installer-utils
    1.35ubuntu1, kbd-chooser 1.29ubuntu2, localechooser 1.20ubuntu6,
    tzsetup 1:0.10ubuntu2, user-setup 1.2ubuntu3.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 24 Aug 2006 15:25:53 +0100

ubiquity (1.1.8) edgy; urgency=low

  [ Jonathan Riddell ]
  * Remove existing widgets when launching qtparted and mountpoints pages.

  [ Colin Watson ]
  * Install discover-sbus and sbus.list from hw-detect on sparc.
  * Fix crash when a partition not formatted by gparted/qtparted isn't in
    the list detected by get_filesystems either (closes: Malone #55328).

 -- Colin Watson <cjwatson@ubuntu.com>  Sat,  5 Aug 2006 18:30:18 +0100

ubiquity (1.1.7) edgy; urgency=low

  * Don't attempt to preserve previous mountpoint selections when going back
    to gparted/qtparted and forward again; this resulted in far too many
    strange bugs when the mountpoints page's idea of currently available
    partitions got out of sync with that of the external partitioner.
    Instead, reinitialise the mountpoints table from scratch every time the
    user goes forward to that page.
  * Fix syntax error when dealing with existing newworld boot partitions.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  3 Aug 2006 17:27:05 +0100

ubiquity (1.1.6) edgy; urgency=low

  * Automatic update of included source packages: localechooser 1.20ubuntu5,
    partman-base 90ubuntu3.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  3 Aug 2006 14:33:22 +0100

ubiquity (1.1.5) edgy; urgency=low

  * Add 3% to the "Removing extra packages" stage of the installation
    progress bar, since in Ubuntu installations it often has a lot of
    language packs to remove.
  * Work around weirdness regarding some partitions going missing from
    part_labels/part_devices in frontends. The right fix is probably to
    update part_labels/part_devices with information from gparted/qtparted,
    but since that system is due to be replaced anyway it's probably not
    worth the effort (closes: Malone #45200).
  * Suppress unnecessary translations of "${MESSAGE}".
  * Remove some cruft from the source package.
  * Make zoom-in.png global rather than distribution-specific.
  * Remove intltool-* on distclean; configure creates them.
  * Move liveinstaller.glade to a better place in the source package, and
    rename it to ubiquity.glade.
  * Update debian/copyright regarding the status of Ubiquity with respect to
    the original Guadalinex work.
  * Move glade/pixmaps/* to pixmaps/*; they can be used in non-GTK frontends
    too.
  * Remove netcloner script; if this is ever resurrected, it should probably
    be an init script or similar instead.
  * Move documentation to doc/ directory; remove obsolete TODO; note that
    the README is largely obsolete.
  * Stop installing README.es.
  * Remove cruft from ubiquity.settings.
  * Retranslate "Step N of M" immediately when the language is changed.
  * Tighten ubiquity's dependencies on frontend and artwork packages.
  * Don't build ubiquity-frontend-{gtk,kde}_*.deb if the respective
    UBIQUITY_NO_{GTK,KDE} is defined.
  * Check whether squashfs devices exist before trying to mount them
    (closes: Malone #55019).
  * Ship all the bits of localechooser we need, and drop our dependency on
    localechooser-data (closes: Malone #40364).

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  3 Aug 2006 14:13:43 +0100

ubiquity (1.1.4) edgy; urgency=low

  * Write out the resume partition as a UUID if possible.
  * Always set mirror/country to the country selected on the timezone page,
    regardless of what localechooser does thereafter (closes: Malone
    #40107).
  * Adapt apt-setup wrapper to new apt-setup, which calls choose-mirror
    itself.
  * Tell localechooser to reprocess preseeding every time we run it.
  * debian/rules install target depends on build (closes: Malone #54503).
  * Automatic update of included source packages: apt-setup
    1:0.11ubuntu3, base-installer 1.63ubuntu3, partman-target 42ubuntu2.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 31 Jul 2006 15:34:40 +0100

ubiquity (1.1.3) edgy; urgency=low

  * Fix typoed variable name while raising InstallStepError.
  * Rename Partman component to PartmanAuto to allow for a future all-in-one
    partman component
    (https://launchpad.net/distros/ubuntu/+spec/ubiquity-advanced-partitioner).
  * When an error occurs with the install progress bar up, only return to
    autopartitioning if the partitioner is still running.
  * Turn DebconfInstallProgress upside-down so that the main process handles
    apt installation and the subprocess handles the translation of apt
    status messages into debconf protocol messages, rather than the other
    way round. The previous approach resulted in exceptions from apt ending
    up in the wrong process.
  * Silence apt errors while installing language packs, since we ignore them
    anyway.
  * Point apt at /target/var/lib/dpkg/status rather than
    /var/lib/dpkg/status (closes: Malone #47859).
  * Handle new initramfs-tools configuration directory.
  * Set debconf's escape capability when fetching extended descriptions,
    since they're potentially multi-line.
  * Use partman's confirmation message rather than generating it ourselves,
    now that its use of multi-line SUBSTs has been fixed (closes: Malone
    #47043).
  * Make the rest of the summary text translatable.
  * Display grub-installer/install_to_xfs question if it's asked.
  * Fix get_filesystems() not to assume ext3 in quite so many situations.
  * Detect XFS for validation purposes even when it wasn't just formatted by
    gparted/qtparted (closes: Malone #53642).
  * Fix all mentions of gparted in the KDE frontend.
  * Leave existing newworld boot partitions alone when committing manual
    partitioning changes.
  * Automatic update of included source packages: localechooser
    1.20ubuntu4, partman-auto 54ubuntu2, partman-base 90ubuntu2.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 24 Jul 2006 18:16:25 +0100

ubiquity (1.1.2) edgy; urgency=low

  * Automatic update of included source packages: apt-setup 1:0.11ubuntu2,
    hw-detect 1.38ubuntu3.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 19 Jul 2006 08:00:00 +0100

ubiquity (1.1.1) edgy; urgency=low

  * Use 'replace' Unicode error handling when dealing with data coming from
    debconf (closes: Malone #44595, #48732).
  * Fix ubiquity/install/apt_error_install and
    ubiquity/install/apt_error_remove templates to be of type 'error'
    (closes: Malone #53258).
  * Install more defence against gparted/qtparted crashing (closes: Malone
    #47194, #48856).
  * If gparted or qtparted crashes, put up a dialog allowing the user to try
    again, return to autopartitioning, or quit the installer. This is a
    pretty awful hack, but hopefully we won't be using gparted/qtparted for
    all that much longer ...
  * Fix crash in KDE frontend while translating widgets (closes: Malone
    #53367).

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 18 Jul 2006 22:09:21 +0100

ubiquity (1.1.0) edgy; urgency=low

  * Use try/finally in install.py to ensure that PROGRESS STOP is always
    called; ignore errors from PROGRESS STOP (e.g. because debconf has gone
    away due to a previous error).
  * Support /UNIONFS (Knoppix) as well as /rofs as the read-only filesystem
    source.
  * Don't require entering a full name (see
    http://www.hermann-uwe.de/blog/os-install-experiences-part-4-ubuntu).
  * GTK frontend:
    - Return None from location_from_point if point is None (thanks to Chris
      Moore for the idea; closes: Malone #48885).
  * KDE frontend:
    - Add slightly more paranoia in case getNearestCity returns None.
  * Don't show hw-detect/modprobe_error, and make it non-fatal (closes:
    Malone #48524).
  * Make it clear in the crash dialog that you should file a new bug, not
    attach your details to an existing bug.
  * Add passwd and adduser dependencies from user-setup.
  * Take a copy of the supplied choice map in set_keyboard_choices.
  * Save tracebacks from install.py and slurp them back into the traceback
    displayed if install.py exits non-zero.
  * Convert to new Python policy (python-central). Install Python
    modules/extensions to /usr/lib/ubiquity/ubiquity rather than into the
    public module path.
  * Warn in the partitioner if you try to use XFS for /boot (closes: Malone
    #47848).
  * Warn in the partitioner if system filesystems are not reformatted
    (closes: Malone #47046).
  * Remove /usr/bin/espresso compatibility symlink.
  * Use os._exit() rather than sys.exit() in the apt install progress child
    process after forking, fixing a lot of strange "PROGRESS STOP" messages
    in /var/log/installer/syslog and bizarre debconf exceptions. See also
    Malone #53298.
  * Use exceptions to communicate all failures in install.py, so that we get
    more useful tracebacks.

  * Automatic update of included source packages: apt-setup 1:0.11ubuntu1,
    base-installer 1.63ubuntu2, choose-mirror 2.04ubuntu1, clock-setup
    0.10ubuntu1, debian-installer-utils 1.32ubuntu1, grub-installer
    1.17ubuntu1, hw-detect 1.38ubuntu1, kbd-chooser 1.29ubuntu1,
    localechooser 1.20ubuntu3, partconf 1.16, partman-auto 54ubuntu1,
    partman-base 90ubuntu1, partman-basicfilesystems 47ubuntu1,
    partman-basicmethods 30, partman-ext3 41, partman-jfs 17,
    partman-newworld 13, partman-palo 4, partman-partitioning 40ubuntu1,
    partman-reiserfs 31, partman-target 42ubuntu1, partman-xfs 29,
    silo-installer 1.04ubuntu1, tzsetup 1:0.10ubuntu1, user-setup
    1.2ubuntu2, yaboot-installer 1.1.7ubuntu1.
  * Handle move of prebaseconfig scripts to (variously) post-base-installer
    or finish-install.
  * Install search-path from debian-installer-utils; partman-auto needs it
    now.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 18 Jul 2006 00:18:21 +0100

ubiquity (1.0.12) dapper; urgency=low

  * Teach get_string to fetch translations for ll_CC locales (e.g.
    zh_{CN,TW}).
  * Automatic update of included source packages: localechooser
    0.27ubuntu22.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 31 May 2006 00:03:47 +0100

ubiquity (1.0.11) dapper; urgency=low

  * Remove superfluous parenthesis from copy_debconf.
  * Add/update .desktop file translations from Rosetta: Afrikaans, Amharic,
    Azerbaijani, Bulgarian, Bengali, Catalan, Czech, Danish, Greek, Basque,
    Persian, Galician, Hebrew, Armenian, Indonesian, Icelandic, Georgian,
    Latvian, Norwegian Bokmål, Norwegian Nynorsk, Norwegian, Romanian,
    Swedish, Tamil, Thai, Tagalog, Turkish, Chinese (Hong Kong).
  * Add/update translations from Rosetta: Afrikaans, Azerbaijani,
    Belarusian, Bengali, Breton, Catalan, Czech, German, Basque, Persian,
    Frisian, Galician, Hebrew, Indonesian, Icelandic, Italian, Japanese,
    Georgian, Lithuanian, Norwegian Bokmål, Dutch, Occitan, Portuguese
    (Brazil), Romanian, Russian, Slovak, Serbian, Swedish, Thai, Ukrainian,
    Chinese (China), Chinese (Hong Kong).
  * Automatic update of included source packages: partman-auto 45ubuntu16.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 29 May 2006 18:01:09 +0100

ubiquity (1.0.10) dapper; urgency=low

  * Explicitly refer to /var/log/installer/syslog and /var/log/syslog for
    more details when install.py fails; not everyone seems to be reading the
    crash dialog text.
  * Ask for /var/log/syslog in the crash dialog text as well (in case it
    does get read); some errors land there rather than
    /var/log/installer/syslog. (I'll consolidate the logging a bit after the
    Dapper release.)
  * When copying symlinks, check for existing dangling symlinks as well as
    other types of file (closes: Malone #47054).
  * Fix crash if the default partition selection somehow includes partitions
    not in the list of choices (closes: Malone #46910).
  * Copy debian-installer/keymap to the installed system (closes: Malone
    #40627).
  * Automatic update of included source packages: grub-installer
    1.14ubuntu5, localechooser 0.27ubuntu21.

 -- Colin Watson <cjwatson@ubuntu.com>  Sun, 28 May 2006 15:46:48 +0100

ubiquity (1.0.9) dapper; urgency=low

  [ Jonathan Riddell ]
  * KDE Frontend:
    - Allow for "1 Cancel" output from qtparted if Apply changes
      is cancelled, closes Malone #46404
    - Correctly exit and remove qtparted widget when clicking Back,
      closes Malone #45430
    - Remove qtparted widget when clicking Next
    - Ensure buttons remain disabled during install

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 26 May 2006 22:52:10 +0100

ubiquity (1.0.8) dapper; urgency=low

  * Ignore IOError when trying to tell gparted/qtparted to undo or exit
    (closes: Malone #46387).
  * GTK frontend:
    - Make sure the steps notebook expands and fills available space when
      the window is resized (closes: Malone #40227).
    - Hide the "New partition size" box rather than merely making it
      insensitive when not in use (closes: Malone #46749).
  * Ignore failures while removing extra packages from installed system
    (closes: Malone #46733).
  * Tell time-admin to suppress its "Install NTP support" button (closes:
    Malone #46743).

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 26 May 2006 17:30:13 +0100

ubiquity (1.0.7) dapper; urgency=low

  * Fix infinite backup loop in disk selector (closes: Malone #46398).
  * Fix crash on backup from manual partitioning if gparted/qtparted isn't
    currently running (closes: Malone #45437, #46211).
  * Don't close down gparted/qtparted if it returns "1 Cancel" to the
    "apply" command (i.e. the user cancelled application of changes).
  * Fix partition-assigned-to-multiple-mount-points check to ignore blank
    rows in the mountpoints table (closes: Malone #46402).
  * Fix insanely enormous minimum size quoted for root partition if no swap
    partition is configured.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 25 May 2006 01:18:28 +0100

ubiquity (1.0.6) dapper; urgency=low

  * Don't crash when partitions are deleted in the manual partitioner
    (closes: Malone #46395).

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 24 May 2006 17:56:19 +0100

ubiquity (1.0.5) dapper; urgency=low

  * Really include base-installer/kernel/linux/link_in_boot in
    ubiquity.templates (closes: Malone #46246).

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 24 May 2006 10:38:37 +0100

ubiquity (1.0.4) dapper; urgency=low

  [ Colin Watson ]
  * Include base-installer/kernel/linux/link_in_boot in ubiquity.templates,
    needed by architectures with multiple kernels (closes: Malone #46160).
  * Set the resize slider to a sensible position by default.
  * Set a slightly more meaningful progress info message while reconfiguring
    linux-image-* and linux-restricted-modules-*.
  * Automatic update of included source packages: partman-auto 45ubuntu13,
    partman-partitioning 37ubuntu3.

  [ Jonathan Riddell ]
  * KDE frontend:
    - Fix crash in country selector when nothing is pre-set.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 23 May 2006 19:53:07 +0100

ubiquity (1.0.3) dapper; urgency=low

  * If install.py exits non-zero, invoke the crash handler with some dummy
    text (getting the exact reason for the crash is unfortunately
    difficult). Add text to the crash handler to ask the user to attach
    /var/log/installer/syslog and /var/log/partman to bug reports so that we
    can figure out why crashes at this point happen.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 23 May 2006 14:29:03 +0100

ubiquity (1.0.2) dapper; urgency=low

  * GTK frontend:
    - Delete DESKTOP_STARTUP_ID from environment before running time-admin,
      to stop it opening behind ubiquity (thanks, Michael Vogt; closes:
      Malone #46008).
  * Automatic update of included source packages: kbd-chooser
    1.23ubuntu18.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 22 May 2006 22:16:23 +0100

ubiquity (1.0.1) dapper; urgency=low

  * Clear out all partman state immediately before each time we run partman,
    and make sure /var/lib/partman/initial_auto exists before running
    partman to commit manual partitioning in order to ensure that it never
    attempts autopartitioning by mistake (closes: Malone #45597).
  * Disable Forward on timezone page until a location is selected (closes:
    Malone #45515).
  * Load translations for partman-basicfilesystems/bad_mountpoint and
    partman-target/no_root (bug misfiled as a comment in Malone #45200).
  * Synchronise required space claimed in text alongside manual partitioner
    and actually required in the minimal partitioning scheme; both are now
    set to 2 GB (closes: Malone #45672).
  * Add/update .desktop file translations from Rosetta: Breton, Greek,
    Croatian, Lithuanian, Slovak, Tagalog, Chinese (China).
  * Add/update translations from Rosetta: French, Croatian, Lithuanian,
    Polish, Romanian, Chinese (Hong Kong).

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 22 May 2006 14:40:30 +0100

ubiquity (1.0.0) dapper; urgency=low

  * When going forward to the username/password screen, only disable the
    Forward button if not all the fields have been filled in (closes: Malone
    #37870).
  * KDE frontend:
    - Fix crash when trying to go back from the manual partitioner.
    - Fix crash when returning to autopartitioning (closes: Malone #45396).
  * Fix going back from autopartitioning page if there's only one disk and
    thus no disk selector (closes: Malone #39283).
  * If there is no intro.txt installed, then silently skip the welcome
    screen, and decrement the visible step numbers to match.
  * Rename intro.txt to intro-beta.txt; we can put it back easily if need be
    (closes: Malone #38718).
  * Make apt-setup/security-updates-failed a non-fatal error, i.e. don't
    throw the user back to autopartitioning if it happens.
  * Add/update .desktop file translations from Rosetta: Japanese, Occitan,
    Chinese (China).
  * Update translations from Rosetta: Slovak.
  * Let's call it 1.0.0!

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 18 May 2006 19:39:50 +0100

ubiquity (0.99.84) dapper; urgency=low

  * Count /boot, /usr, and /var (and subdirectories) towards minimum size
    requirement for / (closes: Malone #42435).
  * Remove all partman state (/var/lib/partman) on startup, not just
    /var/lib/partman/devices.
  * Automatically offer read-only mounts under /media in the manual
    partitioner when partman thinks it's appropriate (closes: Malone
    #40114).
  * Map cf console keymap to ca(fr) (closes: Malone #34627).
  * GTK frontend:
    - Keep a stack of old progress bar titles, and drop the primary text
      back to the previous title on PROGRESS STEP (closes: Malone #38422).
  * Add .desktop file translations from Rosetta: Czech, Dutch, Occitan,
    Russian.
  * Update translations from Rosetta: Finnish, Hungarian, Indonesian,
    Italian, Norwegian Bokmål, Portuguese (Brazil), Russian.
  * Automatic update of included source packages: apt-setup 1:0.10ubuntu2,
    choose-mirror 1.17ubuntu10, clock-setup 0.8ubuntu1.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 18 May 2006 02:05:32 +0100

ubiquity (0.99.83) dapper; urgency=low

  [ Jonathan Riddell ]
  * KDE Frontend:
    - Update timezone information when clicking on map
    - i18n various strings, closes Malone #43818
    - Allow line wrap on Reboot dialogue, closes Malone #43680
    - Fix cancel button on debconf progress dialogue from jumping position

  [ Colin Watson ]
  * Avoid starting cardmgr while running hw-detect.
  * Remove old partman state each time the installer is started.
  * Rearrange partman component control flow to set the default resize
    slider position straight away rather than waiting until the resize
    option is selected (closes: Malone #39062).
  * Round default resize slider position up rather than down.
  * GTK frontend:
    - Show % indicator on resize slider.
  * Display the actual new partition size as well as the percentage of the
    existing size on the resize slider.
  * Add/update .desktop file translations from Rosetta: Breton, French,
    Indonesian, Slovenian.
  * Add/update translations from Rosetta: Greek, Spanish, Galician,
    Hungarian, Occitan, Portuguese, Turkish, Vietnamese.
  * Automatic update of included source packages: user-setup 1.1ubuntu3.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 16 May 2006 21:13:24 +0100

ubiquity (0.99.82) dapper; urgency=low

  * Really remove /usr/share/ubiquity/pixmaps/world_map-960.png from
    ubiquity-frontend-gtk.
  * Add basic clock-setup integration; there's no UI at present, but it will
    at least try to guess appropriate UTCness for the hardware clock based
    on what other operating systems you have installed.
  * Automatic update of included source packages: kbd-chooser
    1.23ubuntu17, localechooser 0.27ubuntu20, tzsetup 1:0.8ubuntu7,
    user-setup 1.1ubuntu2.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 15 May 2006 22:50:49 +0100

ubiquity (0.99.81) dapper; urgency=low

  [ Colin Watson ]
  * Work around PyGTK bug in gtk.Dialog(): each button text must actually be
    a subtype of str, which unicode isn't (closes: Malone #43012).
  * New, more descriptive icon (thanks, Antônio Cláudio; closes: Malone
    #41472).
  * Add .desktop file translations from Rosetta: German, Spanish, Finnish,
    French, Croatian, Hungarian, Italian, Korean, Kurdish, Polish,
    Portuguese.
  * Update translations from Rosetta: Belarusian, Frisian, Hungarian,
    Kurdish, Latvian, Thai, Turkish, Chinese (Taiwan).

  [ Jonathan Riddell ]
  * KDE frontend:
    - Show % indicator on resize slider
    - Improve size/layout of some widgets
    - Don't call get_translations multiple times (closes: Malone #44515)
    - Format time properly in non-latin locales
    - Make mountpoint comboboxes editable
    - Resize qtparted to fit window (closes: Malone #43122)
    - Quit qtparted cleanly
    - Select values on mountpoints page correctly
    - Remove debugging print lines
    - Fix some i18n strings
    - Enable/disable Cancel button in debconf progress dialogue
    - Add spacers in disk selection
    - Add Map Widget (closes: Malone #43678)
  * Move world_map-960.png from ubiquity-frontend-gtk to ubiquity package

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 15 May 2006 12:00:04 +0100

ubiquity (0.99.80) dapper; urgency=low

  * If we get an IOError when trying to tell gparted or qtparted to apply
    changes, just shut it down and try running it again (closes: Malone
    #43504, #44108).
  * Fix get_string to handle requests for fully-qualified debconf questions
    again.
  * Defend against progress_title being None in debconf_progress_start a bit
    harder.
  * Update Korean translation from Rosetta.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 12 May 2006 18:56:36 +0100

ubiquity (0.99.79) dapper; urgency=low

  * Defend against progress_title being None in debconf_progress_start
    (closes: Malone #44219).
  * Add Brazilian Portuguese .desktop file translation from Malone #39064.
  * Make translations of "How do you want to partition the disk?" work.
  * Add support for getting translations from debconf questions other than
    ubiquity/text/*, including "New partition size:".
  * Reduce the number of strings we slurp into memory (only grab
    partman-partitioning*, not partman*).
  * Make "Step N of M" string translatable.
  * Set LANGUAGE as well as LANG when changing locale; this allows us to get
    correct debconf translations without needing to run locale-gen (closes:
    Malone #43071).
  * Automatic update of included source packages: localechooser
    0.27ubuntu19.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 12 May 2006 15:30:04 +0100

ubiquity (0.99.78) dapper; urgency=low

  [ Colin Watson ]
  * GTK frontend:
    - Fix application of Pango attributes to non-ASCII strings (closes:
      Malone #41769).
  * Internationalise .desktop files (closes: Malone #39064).
  * Filter out base-installer/* from our templates file; saves 350KB.
  * Only load translations for the current language (plus those translations
    needed immediately on the language page), to save memory.
  * Fix Unicode decoding crash on substituted values in summary component
    (closes: Malone #43867).
  * Log our own version number to /var/log/installer/syslog and
    /var/log/installer/version on startup. Save /var/log/installer/version
    to installed system.
  * Speed up building of subsidiary source packages by running 'debian/rules
    binary' in one go rather than binary-arch and binary-indep separately.
  * Fix hw-detect not to try to write to non-existent prebaseconfig script.
  * Change text on summary page to "Your new operating system will now be
    installed with the following settings:" (closes: Malone #42618).
  * Change "Quit" button to "Continue using the live CD" and "Reboot the
    computer" to "Restart now" (closes: Malone #37605).

  * Remove piles of obsolete screenshots and locale files from the source
    package and ubiquity-ubuntu-doc.
  * Merge ubiquity-ubuntu-doc into ubiquity-ubuntu-artwork (and likewise
    move the commented-out pieces of ubiquity-guadalinex-doc into
    ubiquity-guadalinex-artwork). Both are always required, so there's no
    point in them being separate.

  * Update all translations from Rosetta.
  * Automatic update of included source packages: partman-target
    41ubuntu1.

  [ Scott James Remnant ]
  * Always write the "arp N" line to /etc/iftab to match netcfg behaviour
    and to deal with cards that change driver and break (e.g. madwifi ->
    madwifi-ng).

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 11 May 2006 21:08:52 +0100

ubiquity (0.99.77) dapper; urgency=low

  * Run hw-detect to set up /etc/modules properly (closes: Malone #40826).
  * Mimic base-installer's logic to configure initramfs-tools with an
    appropriate resume partition (closes: Malone #42299).
  * Fix logging in apply_keyboard.
  * Handle trfu/trqu console keymaps the same way as trf/trq (closes: Malone
    #37867).
  * Map croat console keymap to hr (closes: Malone #43598).
  * Mimic xserver-xorg's logic regarding alternate US layouts for non-Latin
    keymaps.
  * Map et console keymap to ee (closes: Malone #42800).
  * Handle fi-latin1 console keymap the same way as fi (closes: Malone
    #42650).
  * Map mk, nl, ro, and ru console keymaps to the X keymaps by the same
    names.
  * Map gr console keymap to gr, and add it to the list of non-Latin
    keymaps.
  * Change sr-cy console keymap to map to cs, not sr, following
    xkeyboard-config changes. Add this to the list of non-Latin keymaps.
  * Automatic update of included source packages: hw-detect 1.32ubuntu6.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon,  8 May 2006 17:39:19 +0100

ubiquity (0.99.76) dapper; urgency=low

  * Make deselection of mount points actually have a useful effect on
    partman_commit (closes: Malone #35079).

 -- Colin Watson <cjwatson@ubuntu.com>  Sat,  6 May 2006 00:09:22 +0100

ubiquity (0.99.75) dapper; urgency=low

  * KDE frontend:
    - Fix resize slider handling in autopartitioner (closes: Malone #43015).
    - Fix handling of disk selections (closes: Malone #43125).
  * When committing the results of manual partitioning, tell partman to run
    update.d scripts before asking the confirmation question, rather than
    trying to run them ourselves and doing it wrong (closes: Malone #37872).
  * GTK frontend:
    - Allow deselecting mount points in manual partitioner (closes: Malone
      #40588).
  * Hide mount point errors after successful manual partitioning, to make
    sure that they don't appear if you go back from the summary page.
  * Automatic update of included source packages: partman-base
    78ubuntu4.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri,  5 May 2006 21:11:15 +0100

ubiquity (0.99.74) dapper; urgency=low

  * Tolerate partman doing METAGET on questions that don't exist (closes:
    Malone #42967).

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  4 May 2006 19:17:45 +0100

ubiquity (0.99.73) dapper; urgency=low

  * Mark file descriptors connected to debconf-communicate as close-on-exec
    (requires debconf 1.4.72ubuntu5; closes: Malone #42868).

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  4 May 2006 10:11:46 +0100

ubiquity (0.99.72) dapper; urgency=low

  * Sort languages by their ISO-639-1 code rather than by their localised
    name; this seems to produce slightly better results for most languages
    whose localised name begins with a non-ASCII name, and is consistent
    with gfxboot. We can't really win here though, since there's no
    universally-correct collation order (closes: Malone #39299).
  * Save /var/log/partman to installed system as /var/log/installer/partman.
  * Bump localechooser-data dependency to 0.27ubuntu17.
  * Handle errors and warnings thrown by partman, displaying them to the
    user and possibly returning to the partitioner (closes: Malone #39734).
  * Update all translations from Rosetta.
  * Automatic update of included source packages: kbd-chooser
    1.23ubuntu16, localechooser 0.27ubuntu18, partman-basicfilesystems
    46ubuntu5, partman-ext3 39ubuntu1, partman-jfs 15ubuntu1, partman-
    reiserfs 28ubuntu1, partman-xfs 27ubuntu1.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  4 May 2006 06:23:44 +0100

ubiquity (0.99.71) dapper; urgency=low

  [ Colin Watson ]
  * Fix line splitting in parted_server bindings, particularly affecting
    partitions with whitespace in their names (closes: Malone #41768).
  * Drop duplicate encode("UTF-8") calls while preseeding passwd/* (closes:
    Malone #42097).
  * Set LC_COLLATE=C for debconffiltered subprocesses; some other collation
    orderings confuse partman into mounting partitions the wrong way round
    (closes: Malone #40395).
  * GTK frontend:
    - Disable back/forward buttons while waiting for debconffiltered
      subprocesses (closes: Malone #41948).
    - Improve widget packing on resize (thanks, Xavier Claessens; closes:
      Malone #40227).
  * Automatic update of included source packages: partman-auto
    45ubuntu11, silo-installer 1.03ubuntu3.

  [ Jonathan Riddell ]
  * KDE Frontend:
    - Set busy cursor and disable buttons between steps
    - Fix reboot
    - Fix get_disk_choice, Closes Malone #41865
    - Fix unicode problem in get_disk_choice, Closes Malone #41893
    - Disable new_size_frame
    - Make qtparted use python subprocess instead of KProcess
    - Fix scrolling on crash dialogue

  [ Stephan Hermann ]
  * KDE Frontend:
    - Fixed crash in kde-ui.py on amd64, closes Malone #41883

 -- Colin Watson <cjwatson@ubuntu.com>  Tue,  2 May 2006 17:31:54 +0100

ubiquity (0.99.70) dapper; urgency=low

  [ Colin Watson ]
  * Ignore errors from locale.setlocale() in timezone component too (closes:
    Malone #41846).
  * Account for preseeding changes in partman-auto 45ubuntu10.
  * Escape passwords when sending them to debconf (closes: Malone #37934).
    Requires debconf (>= 1.4.72) and won't work with cdebconf yet.
  * Automatic update of included source packages: debian-installer-utils
    1.22ubuntu8, partman-auto 45ubuntu10.

  [ Jonathan Riddell ]
  * KDE Frontend:
    - Order methods to match gtkui
    - Some fixes to crashdialogue
    - Don't show blank choices in set_disk_choices (closes: Malone #41868)
    - Delay auto-partitioning until after final step

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 28 Apr 2006 21:24:16 +0100

ubiquity (0.99.69) dapper; urgency=low

  * GTK frontend:
    - Make sure labels don't end up in the focus chain, despite being
      selectable.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 27 Apr 2006 00:19:51 +0100

ubiquity (0.99.68) dapper; urgency=low

  [ Tollef Fog Heen ]
  * Configure French Swiss, German Swiss and Slovenian keyboards correctly
    in X.

  [ Colin Watson ]
  * Ignore comments and blank lines in manifest files, so that we can put
    comments there to help out customisers.
  * GTK frontend:
    - Make label text selectable (closes: Malone #41618).
    - Guard against calling gtk.main_quit() outside of a main loop when
      quitting (closes: Malone #41619).
  * KDE frontend:
    - Fix Unicode decoding crash in autopartitioner (closes: Malone #41621).
      Shuffle around a couple of workarounds elsewhere into better places.
    - Fix "setEnablede" typo in the manual partitioner.
    - Fix various bits of checked vs. enabled confusion in the manual
      partitioner, plus a missing unicode() call that prevented the format
      checkbox from ever being selectable.
  * Automatic update of included source packages: base-installer
    1.42ubuntu11.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 26 Apr 2006 23:34:52 +0100

ubiquity (0.99.67) dapper; urgency=low

  * Don't dh_install to ubiquity-frontend-{gtk,kde} if the respective
    UBIQUITY_NO_{GTK,KDE} is defined.
  * GTK and KDE frontends:
    - Add a crash handler UI.
  * Turn internal (non-debconf) debugging on by default; it can be disabled
    by setting UBIQUITY_DEBUG_CORE=0. Debconf debugging is unfortunately not
    safe to enable by default because it logs the user's password.
  * Write out /target/etc/apt/apt.conf.d/00IgnoreTimeConflict for the
    duration of post-copy configuration to avoid problems on clock-skewed
    machines.
  * KDE frontend:
    - Fix tab order, chiefly on user info page (closes: Malone #40520).
  * Configure networking before apt, so that we can contact mirrors.
  * Automatic update of included source packages: apt-setup
    1:0.10ubuntu1.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 25 Apr 2006 20:24:59 +0100

ubiquity (0.99.66) dapper; urgency=low

  [ Colin Watson ]
  * Make for loops in debian/rules exit properly on errors.
  * Allow defining UBIQUITY_NO_GTK or UBIQUITY_NO_KDE during the build to
    avoid making use of GTK- or KDE-specific build-dependencies
    (respectively). This is useful to cut down on the number of
    build-dependencies needed when testing on a live CD.
  * If ubiquity is started with no arguments, try both the gtkui and kde-ui
    frontends rather than just gtkui.
  * Explicitly return Unicode strings from ubiquity.misc.get_string(),
    simplifying the KDE frontend.
  * Add a no-op anna-install shim for localechooser, ensuring that locales
    are generated.
  * Ignore errors from locale.setlocale(), although with the above
    anna-install fix I hope this should not often be necessary (closes:
    Malone #41132).
  * KDE frontend:
    - Fix set_username() to really set the username, not the full name.
    - Fix automatic filling in of values on user information page.
    - Don't crash on non-ASCII names (closes: Malone #40666).
  * GTK and KDE frontends:
    - Make the determination of whether to allow going forward from the user
      information page a bit more reliable.
  * Remove gettext use from ubiquity.misc.part_label(); we'll make those
    translatable via debconf in the future, but for now this breaks the KDE
    frontend.
  * Reconfigure linux-restricted-modules-$KVER as well as linux-image-$KVER
    (closes: Malone #40547).
  * Automatic update of included source packages: partman-base
    78ubuntu3.

  [ Jonathan Riddell ]
  * KDE Frontend:
    - Remove broken import (closes: Malone #41169).

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 25 Apr 2006 00:12:45 +0100

ubiquity (0.99.65) dapper; urgency=low

  * KDE Frontend:
    - Fix install paths of Crystal icon

 -- Jonathan Riddell <jriddell@ubuntu.com>  Sun, 23 Apr 2006 22:37:58 +0000

ubiquity (0.99.64) dapper; urgency=low

  * GTK frontend:
    - Use xscreensaver-command --deactivate, not --disable (closes: Malone
      #40095).
    - Hide "Set Time..." button if time-admin isn't present.
    - Recommend gnome-system-tools for time-admin.
  * KDE frontend:
    - Fix import of UbiquityUIBase (closes: Malone #40939).
  * Set the SIGPIPE handler back to the default before spawning
    debconffiltered subprocesses, so that they notice when the UI crashes
    rather than carrying merrily on and e.g. trashing the partition table
    (closes: Malone #40464). Whose bright idea was it to have Python install
    a SIGPIPE handler but then not bother to have the subprocess module
    remove it, eh?

 -- Colin Watson <cjwatson@ubuntu.com>  Sun, 23 Apr 2006 19:07:52 +0100

ubiquity (0.99.63) dapper; urgency=low

  * Additional base build-dependencies need to go in d-i/update-control to
    survive 'debian/rules update'. Add python-kde3-dev there.
  * Fix 'debian/rules build' to notice when kdepyuic fails.
  * Fix crash in keyboard selector if no keyboard is selected (closes:
    Malone #40658).
  * Remove ubiquity/frontend/liveinstaller.py on clean.

 -- Colin Watson <cjwatson@ubuntu.com>  Sun, 23 Apr 2006 13:12:31 +0100

ubiquity (0.99.62) dapper; urgency=low

  [ Jonathan Riddell ]
  * KDE Frontend:
    - Rename UbiquityUI to UbiquityUIBase
    - Get rid of KDialog usage, it caused crashes
    - Add Crystal icon from Ken Wimer
    - Compile .ui file during package creation
  * Automatic update of included source packages: base-installer
    1.42ubuntu10, silo-installer 1.03ubuntu2.

  [ Colin Watson ]
  * Support ESPRESSO_DEBUG as well as UBIQUITY_DEBUG for a while, to make it
    easier to concurrently triage bugs on the Dapper beta release and future
    daily builds.
  * Install a /usr/bin/espresso symlink to /usr/bin/ubiquity, for the same
    reason.
  * Update various copyright/licence notices.

 -- Jonathan Riddell <jriddell@ubuntu.com>  Sat, 22 Apr 2006 00:33:46 +0100

ubiquity (0.99.61) dapper; urgency=low

  * Rename from espresso to ubiquity, to better suggest an association with
    Ubuntu. Log output now written to /var/log/installer/syslog rather than
    using the package name.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 21 Apr 2006 12:50:27 +0100

espresso (0.99.60) dapper; urgency=low

  [ Jonathan Riddell ]
  * KDE frontend:
    - Change programName passed to KAboutData to "Installer" to avoid
      crashes creating kdialogs.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 20 Apr 2006 03:00:50 +0100

espresso (0.99.59) dapper; urgency=low

  * Copy log files right at the end of the installation, rather than just
    after copying the filesystem.
  * Log which language packs we're keeping.
  * Make sure to keep language packs even if the apt update fails.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 20 Apr 2006 01:33:34 +0100

espresso (0.99.58) dapper; urgency=low

  [ Jonathan Riddell ]
  * KDE frontend:
    - Fix various QString/unicode compatibility problems.
  * Fix QString/unicode compatibility problem in partman component.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 19 Apr 2006 16:43:15 +0100

espresso (0.99.57) dapper; urgency=low

  * Remove old (and broken anyway, see Malone #26436) code to embed Mozilla
    into the welcome page, and drop the python-gnome2-extras dependency.
  * KDE frontend:
    - Remove bogus hostname, fullname, and name instance variables; fix
      default hostname setting in info_loop() (closes: Malone #40143).
    - Remove old set_locales function, which is no longer needed and
      apparently causes a crash in pykde.
    - Comment out translate_widgets call in constructor, which Jonathan says
      sometimes causes a crash when creating kdialogs.
  * GTK frontend:
    - Add "Settings" category to .desktop file in order to move the menu
      entry to System -> Applications.
  * Fix going forward from autopartition question with the resize option
    selected; back up properly from partman-partitioning/new_size question
    on error (part of Malone #39062).
  * Fix some spurious newlines in Indonesian and Polish translations.
  * Automatic update of included source packages: partman-auto 45ubuntu9.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 19 Apr 2006 15:43:59 +0100

espresso (0.99.56) dapper; urgency=low

  * Set OVERRIDE_UNSUPPORTED_OS=1 while running grub-installer to force it
    to use its default MBR selection method (closes: Malone #40131).
  * Automatic update of included source packages: grub-installer
    1.14ubuntu4.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 19 Apr 2006 12:04:10 +0100

espresso (0.99.55) dapper; urgency=low

  * GTK frontend:
    - Add support for disabling xscreensaver as well as gnome-screensaver
      (thanks, Daniele Favara; closes: Malone #40095).
    - Set a window icon (closes: Malone #40052).
  * Update various translations from Rosetta.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 19 Apr 2006 10:59:20 +0100

espresso (0.99.54) dapper; urgency=low

  * Change .desktop name and window title from "Install System Permanently"
    to just "Install", to help with limited CD cover space.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 18 Apr 2006 21:47:53 +0100

espresso (0.99.53) dapper; urgency=low

   * sudo back to the live CD user to run gnome-session-save, otherwise it
     fails due to having a different home directory

 -- Matt Zimmerman <mdz@ubuntu.com>  Tue, 18 Apr 2006 09:14:06 -0700

espresso (0.99.52) dapper; urgency=low

  * KDE frontend:
    - Fix unicode/qstring convertion problem
      Closes Malone #39666

 -- Jonathan Riddell <jriddell@ubuntu.com>  Tue, 18 Apr 2006 12:24:52 +0100

espresso (0.99.51) dapper; urgency=low

  * GTK frontend:
    - Add a separator above the dialog buttons.
  * Add silo-installer integration for sparc.
  * Add an icon (thanks, Pascal Klein; closes: Malone #32358).
  * Automatic update of included source packages: choose-mirror
    1.17ubuntu9, partman-base 78ubuntu2, silo-installer 1.03ubuntu1.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 18 Apr 2006 07:37:45 +0100

espresso (0.99.50) dapper; urgency=low

  * KDE frontend:
    - Change title bar to "Install System Permanently".
    - Reboot properly using ksmserver
    - Show and return disk choices
    - Add formatting to intro message

 -- Jonathan Riddell <jriddell@ubuntu.com>  Fri, 14 Apr 2006 02:57:02 +0100

espresso (0.99.49) dapper; urgency=low

  * GTK frontend:
    - Change title bar to "Install System Permanently".

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 14 Apr 2006 02:57:02 +0100

espresso (0.99.48) dapper; urgency=low

  [ Colin Watson ]
  * Make the intro message a bit less scary, and make it clear that this is
    a beta release.
  * GTK frontend:
    - Set a busy cursor while waiting for debconffiltered subprocesses.
    - If GNOME is installed, reboot properly by telling gdm to reboot and
      then killing the GNOME session (closes: Malone #38027).
  * Consider ext2, jfs, reiserfs, and xfs partitions for the default root
    partition selection as well as ext3 partitions.
  * Stop treating extended partitions as ext3; this just seems dangerously
    wrong.
  * Make the default partition selection prefer partitions that were just
    created in the advanced partitioner (closes: Malone #37581).
  * Remove NoDisplay=true from .desktop files, now that espresso removes
    itself from the target system.
  * Automatic update of included source packages: base-installer
    1.42ubuntu8, kbd-chooser 1.23ubuntu15.

  [ Jonathan Riddell ]
  * Remove gtk from kbd_chooser
  * KDE Frontend:
    - Make widget layout more consistent

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 14 Apr 2006 02:36:53 +0100

espresso (0.99.47) dapper; urgency=low

  [ Jonathan Riddell ]
  * KDE Frontend:
    - Fix mountpoints page
    - Update mountpoints_to_summary
    - Language page returns the selected language
    - Widgets get translated into selected language
    - Add Kubuntu logo
    - Timezone page labels work

  [ Colin Watson ]
  * When removing packages that don't belong on the installed system, purge
    their configuration too.
  * Remove kernels that aren't appropriate for the current system, using
    base-installer's kernel selection logic. This fixes 32-bit powerpc
    systems, which otherwise would try to boot a 64-bit kernel by default.
  * Rephrase all strings that talk about "Ubuntu" so that Kubuntu, Edubuntu,
    and Xubuntu don't have branding problems. The boot splash image, desktop
    wallpaper, and so on should be enough to indicate what you're
    installing.
  * GTK frontend:
    - Go back to using 'gksudo --desktop %k' rather than sudo in the
      .desktop file, now that it seems to be fixed; this gets us startup
      notification for free.
  * Automatic update of included source packages: kbd-chooser
    1.23ubuntu14, localechooser 0.27ubuntu16, tzsetup 1:0.8ubuntu6.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 13 Apr 2006 16:33:14 +0100

espresso (0.99.46) dapper; urgency=low

  * Disable swap before starting gparted or qtparted. partman will enable it
    again after mountpoint selection if any swap partitions were selected.
  * Install debconf-get again, lost in the component packaging merge.
  * Reconfigure the locale according to the selected country after the
    timezone question.
  * Set HOME=/root for debconffiltered processes. This fixes
    yaboot-installer, since the hfsutils are run in /target and want to
    write to $HOME/.hcwd.
  * Fix calling of /lib/partman/update.d scripts. This should make the
    manual partitioner work somewhat better.
  * Automatic update of included source packages: localechooser
    0.27ubuntu15.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 12 Apr 2006 18:31:26 +0100

espresso (0.99.45) dapper; urgency=low

  * Fix validation to accept hyphens in hostname (thanks, Alexandre Otto
    Strube; closes: Malone #39218).
  * GTK frontend:
    - Avoid crash if no partition is selected for a given mount point
      (closes: Malone #39116).

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 12 Apr 2006 03:45:45 +0100

espresso (0.99.44) dapper; urgency=low

  * GTK frontend:
    - Say "Selected region" rather than "Selected country".
    - Set default hostname to <username>-desktop or <username>-laptop
      depending on the result of laptop-detect, unless the hostname has been
      edited by hand.
    - Set initial language based on boot parameter from gfxboot or previous
      espresso run (closes: Malone #39051).
  * Depend on localechooser-data (>= 0.27ubuntu12) for a matching
    languagelist (closes: Malone #39043).
  * Silently skip languages rather than crashing if we can't find their
    language code.
  * Add ${shlibs:Depends} to espresso's and espresso-frontend-gtk's Depends
    (closes: Malone #39115).
  * Retranslate Cancel/Back/Forward buttons when changing language.
  * Update translations from Rosetta: Arabic, Czech, French, Hungarian,
    Lithuanian, Macedonian, Norwegian Bokmål, Dutch, Portuguese (Brazil),
    Tagalog, Ukrainian.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 11 Apr 2006 17:40:35 +0100

espresso (0.99.43) dapper; urgency=low

  [ Colin Watson ]
  * Add /cdrom/casper/filesystem.squashfs to the list of filesystem images
    we try to mount if casper didn't do it for us.
  * Use choose-mirror and apt-setup to set up a standard
    /etc/apt/sources.list.
  * GTK frontend:
    - Display more human-readable names for cities.
    - Display the selected country (using the existing iso-codes
      translations, which I hope should avoid most of the thorny
      geopolitical issues).
    - Stop depending on firefox; we don't display HTML any more.

  [ Jonathan Riddell ]
  * Make usersetup.py frontend independent
  * KDE Frontend:
    - Add user information validation
    - Implement basics of timezone selection
    - Enable non-root user error on startup
    - Update mountpoints page
    - Use KDE button order
  * GTK Frontend:
    - Disable Forward button on user information page if not all
      fields are filled out

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 10 Apr 2006 17:52:28 +0100

espresso (0.99.42) dapper; urgency=low

  * Disable pkgstriptranslations while building nested packages. Requires
    pkgstriptranslations (>= 27) on the buildds.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri,  7 Apr 2006 10:24:13 +0100

espresso (0.99.41) dapper; urgency=low

  [ Colin Watson ]
  * Set debian-installer/country based on selected timezone.

  [ Jonathan Riddell ]
  * KDE Frontend:
    - Make step label work
    - Make back and cancel buttons work
    - Enable and disable buttons at correct times
    - Implement keyboard chooser

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  6 Apr 2006 22:39:35 +0100

espresso (0.99.40) dapper; urgency=low

  * Install localechooser's post-base-installer and prebaseconfig scripts as
    executable again.
  * Fix copying of /etc/network/interfaces and /etc/resolv.conf.
  * Remove spurious (DOS-style!) newline from Ukrainian translation.
  * Propagate selected keymap to installed system (closes: Malone #37748).
  * Show the selected keymap on the summary page (although only the
    machine-readable console keymap name for now).
  * Automatic update of included source packages: debian-installer-utils
    1.22ubuntu7, yaboot-installer 1.1.4ubuntu3.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  6 Apr 2006 16:16:42 +0100

espresso (0.99.39) dapper; urgency=low

  * Fix build failure on powerpc due to missing yaboot-installer directory.
  * Automatic update of included source packages: grub-installer
    1.14ubuntu3, kbd-chooser 1.23ubuntu13, localechooser 0.27ubuntu13,
    tzsetup 1:0.8ubuntu5, user-setup 0.05ubuntu6.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed,  5 Apr 2006 21:35:13 +0100

espresso (0.99.38) dapper; urgency=low

  [ Colin Watson ]
  * Make espresso-frontend-gtk depend on espresso.
  * Reorganise component packaging. Instead of having to modify each d-i
    component to produce an espresso-* binary package (in most cases) and
    having to do coordinated uploads of that package and espresso all the
    time, we now include all the relevant d-i source packages in this one
    (under d-i/source/), build them as part of our build process, and
    include all the components in the espresso binary package. 'debian/rules
    update' can be used to do automatic updates of these copied source
    packages. This should ultimately simplify maintenance work as well as
    making it much easier for third parties to make local changes to this
    installer.
  * All FilteredCommand implementations for components now belong to
    espresso rather than to the component (because they were quite tightly
    bound to espresso's UI frontends anyway) and will be removed from
    component packages.
  * Use debian-installer/dummy template (from debian-installer-utils) for
    preseeding rather than espresso/dummy.
  * Update translations from Rosetta: Catalan, German, Greek, Esperanto,
    Spanish, Finnish, French, Hebrew, Hungarian, Polish, Russian, Slovak,
    Swedish, Ukrainian.

  [ Jonathan Riddell ]
  * KDE frontend:
    - Fix summary page
    - Add progress dialogue
  * Don't upgrade in apt-install (closes: Malone #35614).

 -- Colin Watson <cjwatson@ubuntu.com>  Wed,  5 Apr 2006 15:14:00 +0100

espresso (0.99.37) dapper; urgency=low

  * GTK frontend:
    - Remove bogus hostname, fullname, and name instance variables; fix
      get_hostname() method.
    - Pass desired filesystem type from gparted to partman (closes: Malone
      #34921). Requires partman (>= 78ubuntu1+11).
  * Fix logging functions not to use eval, so that they don't break when
    asked to log something containing "'" characters.
  * Add part_devices instance variables to the GTK and KDE frontends to
    avoid horribleness when trying to map a partition label back to a device
    name.
  * Perform network configuration: we copy /etc/network/interfaces and
    /etc/resolv.conf, write /etc/hostname and /etc/hosts afresh based on the
    selected hostname, and write /etc/iftab afresh based on the interfaces
    present (closes: Malone #33064). Eventually most of this should be
    replaced by a call to netcfg, but that's difficult at the moment.
  * Add explicit text with a language question to the language screen
    (closes: Malone #36973).

 -- Colin Watson <cjwatson@ubuntu.com>  Sat,  1 Apr 2006 13:24:21 +0100

espresso (0.99.36.1) dapper; urgency=low

  * Don't copy regular files or symlinks if they already exist in the target
    (e.g. /etc/fstab).

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 30 Mar 2006 14:43:50 +0100

espresso (0.99.36) dapper; urgency=low

  [ Jonathan Riddell ]
  * KDE frontend:
    - merge with GTK, adds disk selection page

  [ Colin Watson ]
  * Make life easier for components called from Install: support extra
    environment variables returned from prepare(), and allow an existing
    Debconf instance to be passed in the constructor.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 29 Mar 2006 10:25:04 +0100

espresso (0.99.35) dapper; urgency=low

  * Fix estimated install copying time. We no longer use cpio to do the
    copying, but instead do the whole thing in-process. This lets us avoid
    buffering issues.
  * Avoid a long pause without any info message while updating apt's indices
    before downloading language packs.
  * GTK frontend:
    - Enlarge primary text in progress windows, per the GNOME HIG.
    - Turn debconf progress dialog into a normal progress window, since it
      doesn't have any buttons.
    - Allow the label above the keyboard test box to wrap.
  * Update translations for most languages from Rosetta.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 28 Mar 2006 11:24:22 +0100

espresso (0.99.34) dapper; urgency=low

  * GTK frontend:
    - Remove remaining Spanish strings. Make some of these translatable
      using existing strings in partman; the rest will follow later.
    - In manual partitioning, only mark partitions automatically mounted on
      swap, /, /usr, /var, or /boot to be reformatted by default.
    - Honour the desired type of a filesystem newly created in gparted in
      preference to its current detected type.
    - If a newly-created filesystem is selected, disable the Reformat
      checkbox and force it on, as it makes no sense off.
  * Exempt swap from duplicate mountpoint checks (part of Malone #34465).
  * Fix crash when reporting that a partition is too small.
  * Make the estimated install copying time a bit less madly wrong (it was
    estimating based on the total file size rather than the amount left to
    copy), although I think buffering on cpio's stdin is still causing it to
    be pretty badly out most of the time.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 24 Mar 2006 20:00:34 +0000

espresso (0.99.33) dapper; urgency=low

  [ Colin Watson ]
  * GTK frontend:
    - Only add new mountpoint table rows if all current rows have been
      filled (closes: Malone #34922).
    - Fix widget names in mount point error handling (closes: Malone
      #36154).
    - Cope with the keyboard selector having no row selected.
    - Cope with getting set_keyboard and set_keyboard_choices in either
      order.
    - Change "Format?" to "Reformat?" in mountpoint table.

  [ Daniel Silverstone ]
  * GTK frontend: Change breadcrumbs to a Step N-of-M display instead.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 23 Mar 2006 18:07:02 +0000

espresso (0.99.32) dapper; urgency=low

  [ Tollef Fog Heen ]
  * Change dependency on espresso-keyboard-setup to espresso-kbd-chooser,
    since that component moved to another package with a lower version
    number and we don't like epochs.
  * Make the keyboard selector work somewhat sanely -- call back to
    kbd-chooser when the selection is changed.
  * Fix choices_display_map to work correctly and map to the other value
    instead of being an identity map.

  [ Colin Watson ]
  * Update Portuguese translation from Rosetta.
  * GTK frontend:
    - Prevent gnome-screensaver from kicking in while Espresso is running
      (closes: Malone #34510 espresso-frontend-gtk task).
    - Translate window title immediately when changing language.
    - Make title of install progress bar translatable.
    - Make sure that cancelling the installation at the summary page cancels
      partman too.
    - Make "Installation complete" translatable.
  * Make sure that debconffilter never tries to call the same widget more
    than once for a single command.
  * Move more frontend-independent translation logic from the GTK frontend
    to espresso.misc so that other frontends can use it.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 22 Mar 2006 10:48:13 +0000

espresso (0.99.31) dapper; urgency=low

  * Add a pile of translations (only about two per language, but better than
    nothing) taken from elsewhere in the installer.
  * GTK frontend:
    - Fix immediate translation of widgets when changing language.
    - Add a disk selector. Requires partman (>= 78ubuntu1+10).
  * KDE frontend:
    - Add disk selector stub methods. These need to be fleshed out.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 20 Mar 2006 10:15:16 +0000

espresso (0.99.30) dapper; urgency=low

  * GTK frontend:
    - Move partitioning committal into the main installation progress bar.
  * Remove text resizing based on the screen size, which as well as being
    annoying was also implemented in a way that made our lives difficult for
    internationalisation.
  * Add internationalisation support for those strings that don't come from
    d-i, with translations stored in debconf templates. I've only set this
    up in the GTK frontend so far, but it should be straightforward to do
    elsewhere. Requires espresso-locale (>= 0.27ubuntu11).
  * Improve the final dialog text.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 17 Mar 2006 00:23:59 +0000

espresso (0.99.29) dapper; urgency=low

  * Fix variable/method name clash in Install's apt error handling.
  * GTK frontend:
    - Rename "Adjust..." to "Set Time...".
    - Remove justification text on location page; instead, add brief
      instructions at the top. Rename "Nearest city" to "Selected city".
    - Make the password entry boxes smaller.
    - Change the summary text box to a selectable label so that it gets the
      standard dialog background colour. Add padding around the text.
  * Change permissions of log file in /target to 600 to guard against any
    possible leakage of sensitive data.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 14 Mar 2006 13:46:49 +0000

espresso (0.99.28) dapper; urgency=low

  * GTK frontend:
    - Add an "Adjust..." button on the timezone screen which starts
      time-admin to let you change the current time.
  * Make espresso-gtkui.desktop use sudo for now, to work around gksudo
    breakage on the live CD. This means we rely on the live CD having
    passwordless sudo.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 10 Mar 2006 12:30:52 +0000

espresso (0.99.27) dapper; urgency=low

  [ Colin Watson ]
  * GTK frontend:
    - Set initial Forward button text in glade rather than in code.
    - Change Forward button to say "Install" when on the summary page.
    - Revamp identification page layout. Add callbacks to let user-setup
      tell us about errors on this page more accurately.
  * KDE frontend:
    - Add guesswork/stub implementations for set_fullname(), set_username(),
      username_error(), and password_error(), for use by user-setup.

  [ Daniel Silverstone ]
  * Make sure GTK gparted integration supports the new gparted.
  * Depend on the new gparted.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  9 Mar 2006 17:32:11 +0000

espresso (0.99.26) dapper; urgency=low

  * GTK frontend:
    - Add a test box to the keymap page. (Note that your keymap isn't
      actually changed in the installer at the moment, so this won't work
      yet.)
    - Display the current time in the format used by the currently-selected
      locale.
  * GTK and KDE frontends:
    - Move the keymap page after the location page, so that in future the
      keymap page can be initialised using data for the selected country.
  * Make espresso.tz.SystemTzInfo.dst() pretend that DST is not in effect if
    we have no DST information, rather than returning the more correct None;
    this allows fromutc() to be used reliably.
  * Use espresso-yaboot to install yaboot on powerpc systems.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  9 Mar 2006 08:32:42 +0000

espresso (0.99.25) dapper; urgency=low

  * GTK frontend:
    - Add a format checkbox to the mountpoints page (closes: Malone #32065).
      Requires partman (>= 78ubuntu1+8).
  * Patched up KDE frontend to avoid breaking it too badly (I hope) until
    corresponding UI is added there too.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed,  8 Mar 2006 14:59:41 +0000

espresso (0.99.24) dapper; urgency=low

  * Fix espresso.tz.SystemTzInfo to work for datetime.datetime.now(tzinfo).
  * GTK frontend:
    - Improve headings and spacing on advanced partitioning pages.
    - Remove more text that claims /home will not be formatted.
    - Rearrange help text on advanced partitioning pages to allow for more
      space on the screen where it matters.
    - Show the current time in the selected timezone on the location page.
    - Translate more strings from Spanish to English.
    - Use HH:MM for UTC offsets rather than fractions of hours.
    - Refer to UTC offsets as GMT offsets instead; it's not quite 100%
      accurate, but (we think) more widely understood.
    - Add a border around the timezone map.
    - Change identification page heading to "Who are you?".
    - Reorganise locale page so that the language select box is in the
      middle rather than at the left-hand side, and shorter.
    - Drop the notebook border.
    - Remove the expander and the "Details" label from the summary page, per
      feedback from the UI sprint.
    - Make the first click on the timezone map zoom in but not select a
      city; the second click will select a city.
  * KDE frontend:
    - Add get_mountpoints method, needed by partman.
  * Remove old Guadalinex screenshots.
  * Remove *.pyc and *.pyo on 'debian/rules clean'.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue,  7 Mar 2006 17:49:19 +0000

espresso (0.99.23) dapper; urgency=low

  [ Jonathan Riddell ]
  * Add KDE frontend, espresso-frontend-kde

  [ Colin Watson ]
  * Fix lots of file descriptor leaks.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri,  3 Mar 2006 16:44:09 +0000

espresso (0.99.22) dapper; urgency=low

  * Improve the appearance of several pages a bit.
  * Automatically scroll language and keymap lists so that the selected
    option is visible.
  * Fix backup handling in GTK frontend (closes: Malone #32866).
  * Allow cancelling installation by closing the window (closes: Malone
    #32865).
  * Catch IOError while downloading language packs.
  * Put back get_mountpoints methods in frontends, as partman needs them.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri,  3 Mar 2006 14:59:43 +0000

espresso (0.99.21) dapper; urgency=low

  [ Tollef Fog Heen ]
  * Allow prepare() methods in components to have access to the debconf
    database.
  * Add FilteredCommand.choices_display_map helper.
  * Flesh out keymap page, using espresso-keyboard-setup.

  [ Colin Watson ]
  * Sort presented list of keymaps.
  * Various pychecker-induced cleanups.
  * Make sure that stdout from language pack maintainer scripts doesn't
    interfere with Install's debconf protocol stream, and that a new debconf
    frontend is started for them in the target system.
  * Add set_fullname() and set_username() methods to the GTK frontend for
    use by user-setup.
  * Stop the installation progress bar on all return paths from
    Install.run().
  * Remove packages specific to the live CD after installation (relies on
    having a desktop manifest for the live filesystem from the buildd, which
    isn't done yet). Record packages that are dynamically installed and make
    sure we don't remove those.
  * Depend on python-apt.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  2 Mar 2006 13:33:51 +0000

espresso (0.99.20) dapper; urgency=low

  * Add support for cancellable progress bars.
  * The Copy/Config split is more inconvenient than useful, so merge the two
    steps into one, called simply Install.
  * Install language packs according to the selected language.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed,  1 Mar 2006 14:13:17 +0000

espresso (0.99.19) dapper; urgency=low

  [ Jonathan Riddell ]
  * Add accessor methods to the GTK frontend for use by user-setup.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 28 Feb 2006 14:34:44 +0000

espresso (0.99.18) dapper; urgency=low

  * Rip all the /target unmounting code out of espresso.backend.copy and do
    it in the main espresso program just before exiting.
  * Parse /proc/mounts for mountpoints to unmount; this saves having to have
    a get_mountpoints method in every frontend.
  * Unmount /target before starting the frontend, since we will behave badly
    if /target is still mounted from a previous installation attempt.

  * Handle all PROGRESS commands entirely in debconffilter, without passing
    them through to the debconf frontend.
  * Add a PROGRESS REGION extension to debconffilter, and a ProgressPosition
    class to keep track of progress bar regions; allows a single progress
    bar to be subdivided into pieces for different stages.
  * Hack FilteredCommand.run_command() to execute the command without any
    debconffiltering glue if frontend is None; this allows nested
    FilteredCommands to more or less work.
  * Stop FilteredCommand.error() from running a UI loop; we assume that the
    frontend's error_dialog() method runs synchronously.

  * Move espresso/components/summary to a new scripts directory.
  * Rework copy and configuration progress bars using debconffilter. This
    fixes some responsiveness bugs, allows for localisation, and finally
    unifies all progress bar handling.
  * Add debconf template translation boilerplate.

  * Move call_gparted from espresso.backend.part into the GTK frontend, as
    it's widget-set-dependent. Unhardcode the path to gparted.
  * Remove espresso/backend/, none of which is used any more except by the
    netcloner and noui frontends which are both broken at the moment anyway.
    The frontend/backend division is now between espresso.frontend and
    espresso.components, mediated by debconffilter.

  * Make espresso-frontend-gtk Architecture: any, due to the Evolution map
    widget (closes: Malone #32874).
  * Build Evolution map widget and Python bindings with -fPIC; should fix
    build failure on amd64.
  * Only enable the TimezoneMap.flash_selected_point handler when the
    timezone map is visible.
  * Remove text that claims /home will not be formatted; partly fixes Malone
    #32534.
  * Display an error dialog on GRUB installation failures (closes: Malone
    #32047; grub has been seeded, so this shouldn't generally happen any
    more anyway).
  * Notice and exit on errors from the copy and configuration stages.
  * Run 'make distclean' rather than 'make clean' on 'debian/rules clean'.

 -- Colin Watson <cjwatson@ubuntu.com>  Mon, 27 Feb 2006 14:22:15 +0000

espresso (0.99.17) dapper; urgency=low

  * Add X-Ubuntu-Gettext-Domain=espresso to espresso-gtkui.desktop (although
    it's useless until we get internationalisation set up properly).
  * Open /var/log/installer/espresso with line-buffering so that error
    messages appear there more quickly during testing.
  * Fix debconffilter to handle SET and SUBST commands whose values consist
    of more than one word.
  * Add a "Ready to install" summary page. (It doesn't contain all the
    necessary information yet, and it should run before partitioning is
    committed rather than after, but that will be easy to fix later.)
  * In the GTK frontend, display an error dialog and exit if running as
    non-root.
  * Restore some bits of autoconfiscation that bzr helped me lose.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 24 Feb 2006 14:44:28 +0000

espresso (0.99.16) dapper; urgency=low

  * Explicitly decode strings returned by debconf as UTF-8, since apparently
    we get confused when running with the KDE frontend otherwise (which
    presumably does something funky with Python's default encoding).
  * Rename Changelog to Changelog.Guadalinex to avoid confusion. Ubuntu
    changes (i.e. everything since renaming to espresso) go here.
  * Add e-map widget, cut-and-pasted from evolution via gnome-system-tools
    (ugh).
  * Basic autoconfiscation for the above.
  * Add initial Python bindings for e-map.
  * Add an espresso.tz module for various bits of timezone handling.
  * First cut at timezone map widget, based on a translation of code in
    gnome-system-tools into Python. Depend on espresso-timezone.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu, 23 Feb 2006 13:26:13 +0000

espresso (0.99.15) dapper; urgency=low

  * Redirect sys.stderr to /var/log/installer/espresso so that we have a
    better chance of diagnosing problems after the fact.
  * Add FilteredCommand.value_index helper from oem-config.
  * Add support for components optionally returning a third argument from
    FilteredCommand.prepare(), interpreted as a dictionary of extra
    environment variables to set for the subprocess.
  * Add a language page, using espresso-locale. The locale is set in the
    target system and used for debconf coprocesses, although not yet for
    translatable strings in the Espresso core.
  * Add a FilteredCommand.cleanup() hook that can be overridden by
    components to perform cleanup tasks after their subprocess exits.
  * Stop logging every single file we copy to /var/log/installer/espresso;
    it creates massive log bloat and isn't very useful.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 21 Feb 2006 13:12:13 +0000

espresso (0.99.14) dapper; urgency=low

  * Set NoDisplay=true in espresso-gtkui.desktop so that it doesn't show up
    on menus. I may remove this again once we've figured out how to make
    espresso not install itself on the target system.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 17 Feb 2006 18:40:10 +0000

espresso (0.99.13) dapper; urgency=low

  * Remove the GTK frontend's reliance on step numbers entirely; refer to
    widget names for each step instead. This makes it easier to add steps.
  * Fix the GTK frontend's reboot button.
  * Remove fstab configuration; partman does all this now, and trying to do
    it ourselves breaks in the autopartitioning case.
  * Make sure to block in progress_loop() until the final dialog has
    finished, rather than continuing and (in some cases) trying to re-run
    the partitioner.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 17 Feb 2006 18:20:19 +0000

espresso (0.99.12) dapper; urgency=low

  [ Tollef Fog Heen ]
  * Use named constants rather than just numbers for the steps in gtkui.py
  * Move the common parts (logo, photo and breadcrumb) outside the
    notebook so they don't have to be kept in sync.  Adjust code to
    highlight the correct one.
  * Use named constants instead of just numbers which make inserting new
    steps in the beginning possible.
  * Begin implementing a keyboard selector.

  [ Colin Watson ]
  * Stop destroying the browser widget; following Tollef's changes, this
    changes the number of pages in the notebook, causing much confusion.
  * Use named constants in espresso.validation; construct returned list more
    sensibly.
  * Hide the disk selector until it becomes useful.
  * More PEP 8 reformatting, this time in espresso.misc.
  * Fix 'espresso <frontend-name>' not to try to do two installs.
  * Provide a .desktop file for the GTK frontend.
  * Remove Guadalinex-specific text from warning and abort dialogs.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 15 Feb 2006 23:00:58 +0000

espresso (0.99.11) dapper; urgency=low

  [ Colin Watson ]
  * Stop auto-hiding the panel when running the GTK frontend.
  * Stop logging how much time was spent in the installation; it makes it
    unnecessarily painful to quit espresso if you try to run it as non-root.
  * Get rid of the confirmation checkbox for automatic partitioning; partman
    pops up a more detailed confirmation dialog for this now.
  * Make ESPRESSO_DEBUG=1 imply DEBCONF_DEBUG='developer|filter' for ease of
    debugging.
  * Stop building espresso-frontend-cloner, espresso-guadalinex-artwork, and
    espresso-guadalinex-doc for now, until they work again and are
    better-tested.

  [ Tollef Fog Heen ]
  * Global reformatting to conform roughly to PEP 8 rather than a mish-mash
    of difficult-to-read styles.

 -- Colin Watson <cjwatson@ubuntu.com>  Wed, 15 Feb 2006 12:54:43 +0000

espresso (0.99.10) dapper; urgency=low

  * Move the installation progress bar and the final message to separate
    windows, per https://wiki.ubuntu.com/UbuntuExpress/GnomeUserInterface.
  * Remove all the screenshots. We'll replace these with an animated demo
    when that's ready.
  * Avoid broken-image icons if logo or photo images aren't available.
  * Hardcode a list of valid debconf commands in debconffilter and ignore
    any we don't recognise. Works around most problems with multi-line
    commands in partman for now.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 14 Feb 2006 21:58:54 +0000

espresso (0.99.9) dapper; urgency=low

  * Drop on_key_press handler from GTK frontend; setting has_default on the
    Next button is cleaner, and having both that and a keypress handler
    breaks things.
  * Add a non-blocking mode to debconffilter, and watch the filter's input
    from the GTK main loop. This allows the GTK user interface to update
    while waiting for debconf commands.
  * Log errors from user-setup-apply and grub-installer, although for now
    it's unnecessarily painful to actually display them to the user.
  * Reduce log noise in configuration stage.
  * Try to disable gnome-volume-manager's automounting while mounting
    partitions.
  * Use the new stdio control interface in gparted 0.1-0ubuntu2 to apply
    changes when going forward from the manual partitioning screen, undo
    changes when going backward, and clean up gparted properly in either
    case. Make sure to relaunch gparted when required, as we can now launch
    it more than once.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 14 Feb 2006 16:06:00 +0000

espresso (0.99.8) dapper; urgency=low

  * Use new target-config hooks from espresso-casper rather than copying
    xorg.conf and (wrongly) reconfiguring gnome-panel-data ourselves.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri,  3 Feb 2006 16:13:43 +0000

espresso (0.99.7) dapper; urgency=low

  * Refactor FilteredCommand.run_command() into several pieces, leaving a
    wrapper there for convenience.
  * Use new UserSetupApply class from user-setup 0.05ubuntu2.

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  2 Feb 2006 22:41:45 +0000

espresso (0.99.6) dapper; urgency=low

  * Initial work on porting to cdebconf (for speed and for increased
    compatibility with d-i), not enabled by default yet until I've had a
    chance to give it more testing.
  * Don't display paths while copying the filesystem; it will cause a lot of
    flickering when we make the counter update more often, and paths that
    are only updated at semi-random points every few seconds during the
    copying process are more confusing than interesting.
  * Fix apt-install to install packages in /target, not /.
  * Update the GTK interface much more frequently during the copying and
    configuration processes.
  * Fix various focus and default-dialog-action settings in the GTK
    interface.
  * Pad out the text in the debconf progress dialog a bit more.
  * Refactor DebconfFilter.run() into several pieces.
  * Rely on corrected return value from PartmanCommit.run_command().
    Requires partman (>= 78ubuntu1+3).

 -- Colin Watson <cjwatson@ubuntu.com>  Thu,  2 Feb 2006 17:56:29 +0000

espresso (0.99.5) dapper; urgency=low

  * Add get_hostname and get_mountpoints methods to frontends so that
    components can get at them without the nasty vars file hack. Remove all
    code handling the vars file.
  * Build espresso in the binary-arch target. This time I've even tested it.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 31 Jan 2006 20:55:29 +0000

espresso (0.99.4) dapper; urgency=low

  * Make espresso Architecture: any; it has different dependencies on
    different architectures.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 31 Jan 2006 14:31:18 +0000

espresso (0.99.3) dapper; urgency=low

  * Fix stupid debian/rules thinko affecting powerpc.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 31 Jan 2006 11:06:58 +0000

espresso (0.99.2) dapper; urgency=low

  * Fix cpio arguments.
  * Drop espresso-yaboot dependency on powerpc for now, until it exists.
  * Drop obsolete dependency on zenity.
  * Convert debconffilter to use subprocess.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 31 Jan 2006 10:48:09 +0000

espresso (0.99.1) dapper; urgency=low

  * Rename to espresso to avoid confusion caused by somebody other than
    Ubuntu being upstream for a project called "Ubuntu ...", to reduce
    awkward branding considerations, and to clearly separate the work being
    done on this project for Dapper from the work done by Guadalinex since
    the focus is rather different.
  * Change Maintainer to me.
  * Rename lib directory in source to espresso so that pychecker can be used
    more easily.
  * Log to /var/log/installer/espresso instead of /var/log/<distro>-express.
  * Change all uses of express/* debconf questions to real questions where
    possible, and espresso/* where not.

  * Add debconffilter.py from oem-config (this has been sent to debconf
    upstream and may eventually make it in there instead). We'll use this
    for d-i integration.
  * Adjust debconffilter to filter out STOP.
  * Add generic error question handling, METAGET filtering, SUBST filtering,
    and PROGRESS filtering to debconffilter.
  * Ignore unknown commands in debconffilter, since some programs (hi,
    partman!) use multi-line commands despite them only working in cdebconf
    by fluke.
  * Add debconfcommunicator.py too; it's been committed to debconf upstream,
    but it's useful here anyway for backports to breezy.
  * Add rudimentary FilteredCommand class, a convenience wrapper around
    DebconfFilter that makes it easier to test various things.
  * Add filtered debconf progress bar handling in the GTK frontend.

  * Add apt-install and udpkg compatibility shims.
  * Call user-setup as a debconffilter coprocess while running the
    corresponding UI step, replacing our own duplicated validation code.
  * Call partman as a debconffilter coprocess while running the
    autopartitioning UI step. Remove peez2 entirely, as this will replace it
    once it's finished.
  * Change gparted invocation to use new --installer=WID option.
  * Replace hand-rolled partition formatting and mounting code with a call
    to PartmanCommit.
  * Copy from /rofs if it exists, rather than hunting through the CD for the
    filesystem image. Requires casper 1.25.
  * Run hook scripts in /usr/lib/espresso/target-config (filenames
    containing '.' are ignored) so that casper can propagate appropriate
    parts of its configuration to the target system.
  * Remove all references to base-config; timezone configuration now
    requires a .deb of the new tzsetup.
  * Use espresso-grub for GRUB installation rather than doing it by hand.
  * Drop dependency on yaboot | grub.

  * Refer to ubuntu.com everywhere, not the deprecated ubuntulinux.org.
  * Don't use full-screen mode.
  * Don't keep the GTK user interface window on top; it's annoying during
    development, and arguable at best in production.
  * Remove the numbers from the breadcrumb trail at the top of the screen.
  * Disable embedded web browser for now since this segfaults in current
    dapper (Bugzilla #20338). For the time being, replace it with a scary
    message telling users to be sure to BACK UP THEIR DATA FIRST.
  * Translate strings in glade file and progress queue messages to English.
    In the unlikely event that any of the strings remain basically
    identical, I'll restore the original text as a Spanish translation.
  * In general, don't send a progress queue message when completing a task,
    only when starting one. There's no point constructing translatable text
    that's only going to be on the screen for tiny fractions of a second
    anyway.
  * Strip newlines from lines in messages.txt.
  * Get rid of almost-useless help button. In general, the UI should be made
    self-explanatory rather than requiring extra clicks to get at help
    information.

  * Fix Config.get_locales() using DebconfCommunicator.
  * Try fetching timezone from /etc/localtime as well as from /etc/timezone.
  * Handle missing keymap and/or locale debconf questions.
  * Fix kernel version detection.
  * Use 'lsb_release -is' rather than reading /etc/lsb-release directly.
  * Depend on lsb-release.
  * Don't preselect a mount point for /home.
  * Fix unmounting at end of installation.
  * Remove ubuntu-express wrapper script; eventually we'll do whatever
    unmounting is necessary during the partitioning step rather than turning
    off swap for the whole installer (and partman should help with this
    already).
  * Install installer script as /usr/bin/espresso rather than
    /usr/bin/installer.
  * Quieten cpio a bit.

  * Use dh_installdocs to install documentation.
  * Remove unnecessary ${shlibs:Depends} dependencies.
  * Fix broken use of debhelper; the author seemed to be confusing -A and
    -a, and in any case we only build architecture-independent packages.
  * Use dh_install instead of verbose code in debian/rules (which includes a
    bashism anyway).
  * Remove hardcoded svn commands in generate-doc.sh.
  * Remove svn exclusion stuff in debian/rules; if building from a
    Subversion checkout, you should use standard workarounds to avoid .svn
    directories.
  * Remove generated source code documentation for now; it's really not
    terribly useful, certainly not in the espresso binary package, and
    ultimately it should be generated as part of the build process if at
    all.
  * Rewrite descriptions to be better English and (I hope) more useful.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 27 Jan 2006 13:25:43 +0000

ubuntu-express (0.99-1) breezy; urgency=low

  * New UI design for gtk frontend.
  * Dual resolution supported (widget distribution and sizes are modified from
    screen resolution).
  * New grub configuration algorithm based on grub-installer scripts (from
    debian package).
  * Several bugfixes.

 -- Javier Carranza <javier.carranza@interactors.coop>  Wed, 30 Nov 2005 07:56:39 +0200

ubuntu-express (0.98ubuntu1) breezy; urgency=low

  * Added mountpoints validation and mountpoints preselection.
  * Added remaining time to progress bar.
  * Added a lot of source documentation and epydoc output fully updated.
  * Added peez2 autopartitioning (using freespace and reusing linux filesystems
    partition algorithms implemented).
  * A lot of bugfixes.

 -- Javier Carranza <javier.carranza@interactors.coop>  Sun, 16 Oct 2005 11:05:34 +0200

ubuntu-express (0.92ubuntu1) breezy; urgency=low

  * Added new mountpoint selector.
  * Some fixes to make lintian-friendly.

 -- Javier Carranza <javier.carranza@interactors.coop>  Tue, 06 Sep 2005 12:48:23 +0200

ubuntu-express (0.91ubuntu1) breezy; urgency=low

  * Validation module connected with gtk interface (for user and system input
    information).
  * Gtk interface for validation module fully implemented.
  * fixed several bugs reported from ubuntu-devel list.
  * snapshots from quickguide updated.

 -- Javier Carranza <javier.carranza@interactors.coop>  Thu, 25 Aug 2005 16:50:48 +0200

ubuntu-express (0.9ubuntu1) breezy; urgency=low

  * Backend / frontend connection completed.
  * Bootloader configuration (final implementations).
  * gtkui.py module full rewrited.
  * fixed a lot of bugs.
  * single backend splitted into several separated backends.

 -- Javier Carranza <javier.carranza@interactors.coop>  Wed, 24 Aug 2005 15:43:53 +0200

ubuntu-express (0.7ubuntu1) breezy; urgency=low

  * Druid changed into notepad.
  * Backend and frontend connection.
  * Full bootloader support.
  * Ubuntu Express scripts are now more modularized.

 -- Javier Carranza <javier.carranza@interactors.coop>  Tue, 16 Aug 2005 21:02:11 +0200

ubuntu-express (0.4ubuntu2) breezy; urgency=low

  * Some UI changes.
  * A lot of stuff to get more stabililty between UE modules.
  * some fixes related to branding.

 -- Javier Carranza <javier.carranza@interactors.coop>  Thu, 11 Aug 2005 11:31:20 +0200

ubuntu-express (0.4ubuntu1) breezy; urgency=low

  * Initial Release.

 -- Javier Carranza <javier.carranza@interactors.coop>  Fri, 29 Jul 2005 17:04:51 +0200
